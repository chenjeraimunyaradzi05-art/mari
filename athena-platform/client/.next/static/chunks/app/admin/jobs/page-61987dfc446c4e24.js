(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2712],{4237:function(e,t,r){Promise.resolve().then(r.bind(r,9129))},9129:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(57437),n=r(2265),s=r(27648),i=r(29827),l=r(11713),o=r(21770),c=r(92451),d=r(73247),u=r(86595),x=r(42208),p=r(10407),m=r(12381),g=r(40279),h=r(71837);function f(){let e=(0,i.NL)(),[t,r]=(0,n.useState)(1),[f,y]=(0,n.useState)(""),[b,N]=(0,n.useState)(""),{data:j,isLoading:w}=(0,l.a)({queryKey:["admin-jobs",t,f,b],queryFn:async()=>{let e=new URLSearchParams({page:t.toString(),limit:"20"});return f&&e.append("search",f),b&&e.append("status",b),(await h.hi.get("/admin/jobs?".concat(e.toString()))).data}}),v=(0,o.D)({mutationFn:async e=>{let{jobId:t,updates:r}=e;await h.hi.patch("/admin/jobs/".concat(t),r)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-jobs"]})}}),E=["ACTIVE","PENDING","CLOSED","DRAFT"],R=e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"CLOSED":default:return"bg-gray-100 text-gray-800";case"DRAFT":return"bg-blue-100 text-blue-800"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(s.default,{href:"/admin",className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(c.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Job Management"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[null==j?void 0:j.pagination.total.toLocaleString()," total jobs"]})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(g.I,{placeholder:"Search jobs...",value:f,onChange:e=>{y(e.target.value),r(1)},className:"pl-10"})]})}),(0,a.jsxs)("select",{value:b,onChange:e=>{N(e.target.value),r(1)},className:"px-3 py-2 border rounded-md bg-white dark:bg-gray-700",children:[(0,a.jsx)("option",{value:"",children:"All Statuses"}),E.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[w?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posted By"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:null==j?void 0:j.jobs.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),e.isSponsored&&(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"Sponsored"]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.company," â€¢ ",e.location]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 capitalize",children:e.type.toLowerCase().replace("_"," ")})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white",children:[e.postedBy.firstName," ",e.postedBy.lastName]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.postedBy.email})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("select",{value:e.status,onChange:t=>v.mutate({jobId:e.id,updates:{status:t.target.value}}),className:"text-sm px-2 py-1 rounded border-0 ".concat(R(e.status)),children:E.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,a.jsxs)("div",{children:[e.viewCount.toLocaleString()," views"]}),(0,a.jsxs)("div",{children:[e.applicationCount," applications"]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(s.default,{href:"/dashboard/jobs/".concat(e.id),className:"p-2 text-gray-500 hover:text-gray-700",title:"View Job",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>v.mutate({jobId:e.id,updates:{isSponsored:!e.isSponsored}}),className:"p-2 ".concat(e.isSponsored?"text-purple-600":"text-gray-400"," hover:text-purple-800"),title:e.isSponsored?"Remove Sponsor":"Make Sponsored",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})})]})})]},e.id))})]}),j&&j.pagination.totalPages>1&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Page ",t," of ",j.pagination.totalPages]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m.z,{variant:"outline",size:"sm",disabled:1===t,onClick:()=>r(t-1),children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})}),(0,a.jsx)(m.z,{variant:"outline",size:"sm",disabled:t===j.pagination.totalPages,onClick:()=>r(t+1),children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})})]})]})]})]})]})}},12381:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return o}});var a=r(57437),n=r(2265),s=r(90535),i=r(93448);let l=(0,s.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",secondary:"bg-secondary-500 text-white hover:bg-secondary-600",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-950",ghost:"hover:bg-gray-100 dark:hover:bg-gray-800",link:"text-primary-500 underline-offset-4 hover:underline",destructive:"bg-red-500 text-white hover:bg-red-600"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,...o}=e;return(0,a.jsx)("button",{className:(0,i.cn)(l({variant:n,size:s,className:r})),ref:t,...o})});o.displayName="Button"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(57437),n=r(2265),s=r(93448);let i=n.forwardRef((e,t)=>{let{className:r,type:n,error:i,label:l,icon:o,...c}=e;return(0,a.jsxs)("div",{className:"w-full",children:[l&&(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:l}),(0,a.jsxs)("div",{className:"relative",children:[o&&(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o}),(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50",o&&"pl-10",i&&"border-red-500 focus:ring-red-500",r),ref:t,...c})]}),i&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]})});i.displayName="Input"},93448:function(e,t,r){"use strict";r.d(t,{C7:function(){return y},KI:function(){return i},MW:function(){return p},OF:function(){return o},Pp:function(){return h},Qm:function(){return g},SY:function(){return u},_6:function(){return f},aj:function(){return l},cn:function(){return c},hv:function(){return j},hw:function(){return m},lw:function(){return s},nJ:function(){return N},p6:function(){return d},wW:function(){return b},xG:function(){return x}});var a=r(61994),n=r(53335);function s(e,t){return window.localStorage.getItem(e)||t}function i(e,t){window.localStorage.setItem(e,t)}function l(){return window.localStorage.getItem("athena.locale")||window.navigator.language||"en-AU"}function o(){return s("athena.currency","AUD").toUpperCase()}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return new Date(e).toLocaleDateString(r,t||{year:"numeric",month:"short",day:"numeric"})}function u(e){let t=new Date,r=new Date(e),a=Math.floor((t.getTime()-r.getTime())/1e3);if(a<60)return"just now";let n=Math.floor(a/60);if(n<60)return"".concat(n,"m ago");let s=Math.floor(n/60);if(s<24)return"".concat(s,"h ago");let i=Math.floor(s/24);if(i<7)return"".concat(i,"d ago");let l=Math.floor(i/7);return l<4?"".concat(l,"w ago"):d(e)}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function p(e,t){return e||t?e&&t?"".concat(x(e)," - ").concat(x(t)):e?"From ".concat(x(e)):t?"Up to ".concat(x(t)):"Salary not specified":"Salary not specified"}function m(e){return e?x(e):"Not specified"}function g(e,t){return"".concat(e.charAt(0)).concat(t.charAt(0)).toUpperCase()}function h(e,t){return"".concat(e," ").concat(t).trim()}function f(e,t,r){return 1===e?t:r||"".concat(t,"s")}let y={EARLY_CAREER:"Early Career",MID_CAREER:"Professional",ENTREPRENEUR:"Entrepreneur",CREATOR:"Creator",MENTOR:"Mentor",EDUCATION_PROVIDER:"Education Provider",EMPLOYER:"Employer",REAL_ESTATE:"Real Estate",GOVERNMENT_NGO:"Government / NGO"},b={FULL_TIME:"Full-time",PART_TIME:"Part-time",CONTRACT:"Contract",FREELANCE:"Freelance",INTERNSHIP:"Internship"},N={PENDING:"Pending",REVIEWED:"Reviewed",SHORTLISTED:"Shortlisted",INTERVIEW:"Interview",OFFERED:"Offered",HIRED:"Hired",REJECTED:"Rejected",WITHDRAWN:"Withdrawn"},j={PENDING:"bg-yellow-100 text-yellow-800",REVIEWED:"bg-blue-100 text-blue-800",SHORTLISTED:"bg-purple-100 text-purple-800",INTERVIEW:"bg-indigo-100 text-indigo-800",OFFERED:"bg-green-100 text-green-800",HIRED:"bg-emerald-100 text-emerald-800",REJECTED:"bg-red-100 text-red-800",WITHDRAWN:"bg-gray-100 text-gray-800"}}},function(e){e.O(0,[2972,3464,6137,5021,1713,5978,1837,2971,2117,1744],function(){return e(e.s=4237)}),_N_E=e.O()}]);