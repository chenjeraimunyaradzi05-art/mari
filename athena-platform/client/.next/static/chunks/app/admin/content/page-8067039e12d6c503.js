(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7975],{23169:function(e,t,n){Promise.resolve().then(n.bind(n,74135))},74135:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(57437),a=n(2265),s=n(27648),i=n(29827),o=n(11713),c=n(21770),l=n(92451),d=n(53417),u=n(63639),m=n(42208),x=n(87769),h=n(65302),f=n(18930),g=n(10407),p=n(12381),N=n(71837);function v(){let e=(0,i.NL)(),[t,n]=(0,a.useState)(1),[v,y]=(0,a.useState)(!1),{data:j,isLoading:w}=(0,o.a)({queryKey:["admin-content-posts",t,v],queryFn:async()=>{let e=new URLSearchParams({page:t.toString(),limit:"20",reported:v.toString(),sortBy:v?"reportCount":"createdAt",sortOrder:"desc"});return(await N.hi.get("/admin/content/posts?".concat(e.toString()))).data}}),E=(0,c.D)({mutationFn:async e=>{let{postId:t,action:n,reason:r}=e;await N.hi.patch("/admin/content/posts/".concat(t),{action:n,reason:r})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-content-posts"]})}});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(s.default,{href:"/admin",className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(l.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Content Moderation"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Review and moderate user posts"})]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,r.jsxs)(p.z,{variant:v?"outline":"default",onClick:()=>{y(!1),n(1)},children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"All Posts"]}),(0,r.jsxs)(p.z,{variant:v?"default":"outline",onClick:()=>{y(!0),n(1)},children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Reported Posts"]})]}),w?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):(0,r.jsxs)("div",{className:"space-y-4",children:[null==j?void 0:j.posts.map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 ".concat(e.isHidden?"opacity-60 border-2 border-red-300":""),children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:e.author.avatar?(0,r.jsx)("img",{src:e.author.avatar,alt:"".concat(e.author.firstName," ").concat(e.author.lastName),className:"h-10 w-10 rounded-full"}):(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-purple-600 font-medium",children:[e.author.firstName[0],e.author.lastName[0]]})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsxs)(s.default,{href:"/dashboard/profile/".concat(e.author.id),className:"font-medium text-gray-900 dark:text-white hover:underline",children:[e.author.firstName," ",e.author.lastName]}),(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),e.isHidden&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"Hidden"})]}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:e.content.length>300?"".concat(e.content.slice(0,300),"..."):e.content}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["❤️ ",e.likeCount]}),(0,r.jsxs)("span",{children:["\uD83D\uDCAC ",e.commentCount]}),e.reportCount>0&&(0,r.jsxs)("span",{className:"text-red-600 font-medium",children:["⚠️ ",e.reportCount," reports"]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.isHidden?(0,r.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>E.mutate({postId:e.id,action:"unhide"}),children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"Unhide"]}):(0,r.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>E.mutate({postId:e.id,action:"hide"}),children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),"Hide"]}),e.reportCount>0&&(0,r.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>E.mutate({postId:e.id,action:"clearReports"}),children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),"Clear Reports"]}),(0,r.jsx)(p.z,{variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",onClick:()=>{confirm("Are you sure you want to delete this post?")&&E.mutate({postId:e.id,action:"delete"})},children:(0,r.jsx)(f.Z,{className:"h-4 w-4"})})]})]})},e.id)),(null==j?void 0:j.posts.length)===0&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(d.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:v?"No reported posts found":"No posts found"})]})]}),j&&j.pagination.totalPages>1&&(0,r.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Page ",t," of ",j.pagination.totalPages]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(p.z,{variant:"outline",size:"sm",disabled:1===t,onClick:()=>n(t-1),children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})}),(0,r.jsx)(p.z,{variant:"outline",size:"sm",disabled:t===j.pagination.totalPages,onClick:()=>n(t+1),children:(0,r.jsx)(g.Z,{className:"h-4 w-4"})})]})]})]})]})}},12381:function(e,t,n){"use strict";n.d(t,{d:function(){return o},z:function(){return c}});var r=n(57437),a=n(2265),s=n(90535),i=n(93448);let o=(0,s.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",secondary:"bg-secondary-500 text-white hover:bg-secondary-600",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-950",ghost:"hover:bg-gray-100 dark:hover:bg-gray-800",link:"text-primary-500 underline-offset-4 hover:underline",destructive:"bg-red-500 text-white hover:bg-red-600"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:s,...c}=e;return(0,r.jsx)("button",{className:(0,i.cn)(o({variant:a,size:s,className:n})),ref:t,...c})});c.displayName="Button"},93448:function(e,t,n){"use strict";n.d(t,{C7:function(){return N},KI:function(){return i},MW:function(){return x},OF:function(){return c},Pp:function(){return g},Qm:function(){return f},SY:function(){return u},_6:function(){return p},aj:function(){return o},cn:function(){return l},hv:function(){return j},hw:function(){return h},lw:function(){return s},nJ:function(){return y},p6:function(){return d},wW:function(){return v},xG:function(){return m}});var r=n(61994),a=n(53335);function s(e,t){return window.localStorage.getItem(e)||t}function i(e,t){window.localStorage.setItem(e,t)}function o(){return window.localStorage.getItem("athena.locale")||window.navigator.language||"en-AU"}function c(){return s("athena.currency","AUD").toUpperCase()}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();return new Date(e).toLocaleDateString(n,t||{year:"numeric",month:"short",day:"numeric"})}function u(e){let t=new Date,n=new Date(e),r=Math.floor((t.getTime()-n.getTime())/1e3);if(r<60)return"just now";let a=Math.floor(r/60);if(a<60)return"".concat(a,"m ago");let s=Math.floor(a/60);if(s<24)return"".concat(s,"h ago");let i=Math.floor(s/24);if(i<7)return"".concat(i,"d ago");let o=Math.floor(i/7);return o<4?"".concat(o,"w ago"):d(e)}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();return new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function x(e,t){return e||t?e&&t?"".concat(m(e)," - ").concat(m(t)):e?"From ".concat(m(e)):t?"Up to ".concat(m(t)):"Salary not specified":"Salary not specified"}function h(e){return e?m(e):"Not specified"}function f(e,t){return"".concat(e.charAt(0)).concat(t.charAt(0)).toUpperCase()}function g(e,t){return"".concat(e," ").concat(t).trim()}function p(e,t,n){return 1===e?t:n||"".concat(t,"s")}let N={EARLY_CAREER:"Early Career",MID_CAREER:"Professional",ENTREPRENEUR:"Entrepreneur",CREATOR:"Creator",MENTOR:"Mentor",EDUCATION_PROVIDER:"Education Provider",EMPLOYER:"Employer",REAL_ESTATE:"Real Estate",GOVERNMENT_NGO:"Government / NGO"},v={FULL_TIME:"Full-time",PART_TIME:"Part-time",CONTRACT:"Contract",FREELANCE:"Freelance",INTERNSHIP:"Internship"},y={PENDING:"Pending",REVIEWED:"Reviewed",SHORTLISTED:"Shortlisted",INTERVIEW:"Interview",OFFERED:"Offered",HIRED:"Hired",REJECTED:"Rejected",WITHDRAWN:"Withdrawn"},j={PENDING:"bg-yellow-100 text-yellow-800",REVIEWED:"bg-blue-100 text-blue-800",SHORTLISTED:"bg-purple-100 text-purple-800",INTERVIEW:"bg-indigo-100 text-indigo-800",OFFERED:"bg-green-100 text-green-800",HIRED:"bg-emerald-100 text-emerald-800",REJECTED:"bg-red-100 text-red-800",WITHDRAWN:"bg-gray-100 text-gray-800"}}},function(e){e.O(0,[2972,3464,6137,5021,1713,3744,1837,2971,2117,1744],function(){return e(e.s=23169)}),_N_E=e.O()}]);