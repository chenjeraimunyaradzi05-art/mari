(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8668],{10209:function(e,t,s){Promise.resolve().then(s.bind(s,9137))},39763:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{color:n="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:x="",children:m,...u}=s;return(0,a.createElement)("svg",{ref:i,...r,width:c,height:c,stroke:n,strokeWidth:o?24*Number(d)/Number(c):d,className:["lucide","lucide-".concat(l(e)),x].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},5005:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},92451:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},88997:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},53417:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},70525:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},27648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(72972),r=s.n(a)},9137:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(57437),r=s(2265),l=s(27648),i=s(11713),n=s(95805),c=s(53417),d=s(88997),o=s(5005),x=s(92451),m=s(95252),u=s(70525),h=s(71837);function g(){var e;let[t,s]=(0,r.useState)(30),{data:g,isLoading:p}=(0,i.a)({queryKey:["admin-analytics-engagement",t],queryFn:async()=>(await h.hi.get("/admin/analytics/engagement?days=".concat(t))).data}),{data:y,isLoading:b}=(0,i.a)({queryKey:["admin-analytics-revenue"],queryFn:async()=>(await h.hi.get("/admin/analytics/revenue")).data}),v=[{label:"Active Users",value:(null==g?void 0:g.metrics.activeUsers)||0,icon:n.Z,color:"text-blue-600"},{label:"New Posts",value:(null==g?void 0:g.metrics.newPosts)||0,icon:c.Z,color:"text-purple-600"},{label:"New Comments",value:(null==g?void 0:g.metrics.newComments)||0,icon:c.Z,color:"text-green-600"},{label:"New Likes",value:(null==g?void 0:g.metrics.newLikes)||0,icon:d.Z,color:"text-pink-600"},{label:"Job Applications",value:(null==g?void 0:g.metrics.newApplications)||0,icon:o.Z,color:"text-orange-600"}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(l.default,{href:"/admin",className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(x.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Platform Analytics"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Metrics and insights"})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:p||b?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),"Revenue"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg shadow p-6 text-white",children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Monthly Recurring Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:["AU$",((null==y?void 0:y.mrr)||0).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg shadow p-6 text-white",children:[(0,a.jsx)("p",{className:"text-blue-100 text-sm",children:"Annual Recurring Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:["AU$",((null==y?void 0:y.arr)||0).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:"Breakdown by Tier"}),(0,a.jsx)("div",{className:"space-y-2",children:(null==y?void 0:y.breakdown)&&Object.entries(y.breakdown).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:t}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:[s.count," users"]}),(0,a.jsxs)("span",{className:"text-gray-500 ml-2",children:["(AU$",s.revenue.toLocaleString(),"/mo)"]})]})]},t)})})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),"Engagement (",(null==g?void 0:null===(e=g.period)||void 0===e?void 0:e.label)||"Last 30 Days",")"]}),(0,a.jsxs)("div",{className:"mb-4 max-w-xs",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time window"}),(0,a.jsxs)("select",{value:t,onChange:e=>s(Number(e.target.value)),className:"input w-full",children:[(0,a.jsx)("option",{value:7,children:"Last 7 days"}),(0,a.jsx)("option",{value:30,children:"Last 30 days"}),(0,a.jsx)("option",{value:90,children:"Last 90 days"}),(0,a.jsx)("option",{value:180,children:"Last 180 days"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:v.map(e=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.label})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.value.toLocaleString()})]},e.label))})]}),(0,a.jsxs)("section",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Key Ratios"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Posts per Active User"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==g?void 0:g.metrics.activeUsers)?(g.metrics.newPosts/g.metrics.activeUsers).toFixed(2):"0"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Comments per Post"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==g?void 0:g.metrics.newPosts)?(g.metrics.newComments/g.metrics.newPosts).toFixed(2):"0"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Likes per Post"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==g?void 0:g.metrics.newPosts)?(g.metrics.newLikes/g.metrics.newPosts).toFixed(2):"0"})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Coming Soon"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[(0,a.jsx)("li",{children:"• User growth charts over time"}),(0,a.jsx)("li",{children:"• Revenue trend visualization"}),(0,a.jsx)("li",{children:"• Cohort retention analysis"}),(0,a.jsx)("li",{children:"• Geographic distribution maps"}),(0,a.jsx)("li",{children:"• Real-time activity feed"})]})]})]})})]})}}},function(e){e.O(0,[2972,3464,5021,1713,1837,2971,2117,1744],function(){return e(e.s=10209)}),_N_E=e.O()}]);