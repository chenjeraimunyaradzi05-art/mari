(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{80774:function(e,t,a){Promise.resolve().then(a.t.bind(a,77815,23)),Promise.resolve().then(a.t.bind(a,23735,23)),Promise.resolve().then(a.bind(a,69064)),Promise.resolve().then(a.t.bind(a,2778,23)),Promise.resolve().then(a.bind(a,19269)),Promise.resolve().then(a.bind(a,9783))},19269:function(e,t,a){"use strict";a.d(t,{Providers:function(){return K}});var r=a(57437),n=a(21623),s=a(29827),i=a(3204),o=a(2265),l=a(92371),c=a(68123),d=a(93448),u=a(27648),g=a(48166),x=a(32489),m=a(88906),p=a(30401),f=a(98728);let h={"cookie.title":"Privacy & Cookies","cookie.description":"We use cookies to operate the platform, improve experiences, and measure performance. You can accept all cookies or reject optional ones.","cookie.acceptAll":"Accept all","cookie.rejectOptional":"Reject optional","cookie.manage":"Manage in Settings","cookie.ccpaNotice":"California residents: You can opt out of certain data sharing at any time."},y={"cookie.title":"Privacidad y cookies","cookie.description":"Usamos cookies para operar la plataforma, mejorar la experiencia y medir el rendimiento. Puedes aceptar todas o rechazar las opcionales.","cookie.acceptAll":"Aceptar todo","cookie.rejectOptional":"Rechazar opcionales","cookie.manage":"Gestionar en Ajustes","cookie.ccpaNotice":"Residentes de California: puedes excluirte del intercambio de datos en cualquier momento."},k={"cookie.title":"الخصوصية وملفات تعريف الارتباط","cookie.description":"نستخدم ملفات تعريف الارتباط لتشغيل المنصة وتحسين التجربة وقياس الأداء. يمكنك قبول الكل أو رفض الاختيارية.","cookie.acceptAll":"قبول الكل","cookie.rejectOptional":"رفض الاختيارية","cookie.manage":"الإدارة من الإعدادات","cookie.ccpaNotice":"سكان كاليفورنيا: يمكنك إيقاف مشاركة بعض البيانات في أي وقت."},b={en:h,"en-AU":h,"en-US":h,"en-SG":h,"en-AE":h,"en-SA":h,"en-EG":h,"en-ZA":h,ar:k,"ar-AE":k,"ar-SA":k,"ar-EG":k,es:y,"es-US":y};var j=a(71837);let v="athena.consentCookies";function N(){let{user:e}=(0,l.tN)(),t=(0,d.aj)(),a=(0,o.useMemo)(()=>b[t]||b[t.split("-")[0]]||h,[t]),[n,s]=(0,o.useState)(!1),[i,c]=(0,o.useState)(!1),[y,k]=(0,o.useState)((0,d.lw)("athena.region","ANZ")),[N,w]=(0,o.useState)({essential:!0,analytics:!1,functional:!1,marketing:!1});(0,o.useEffect)(()=>{if(!(0,d.lw)(v,"")){let e=setTimeout(()=>s(!0),500);return()=>clearTimeout(e)}},[]),(0,o.useEffect)(()=>{k((0,d.lw)("athena.region",(null==e?void 0:e.region)||"ANZ"))},[e]);let S=async t=>{(0,d.KI)(v,"true"),(0,d.KI)("athena.consentAnalytics",String(t.analytics)),(0,d.KI)("athena.consentFunctional",String(t.functional)),(0,d.KI)("athena.consentMarketing",String(t.marketing)),(0,d.KI)("athena.consentDataProcessing","true"),C(t),(null==e?void 0:e.id)&&await j.BG.updateConsents({consentCookies:!0,consentMarketing:t.marketing,consentDataProcessing:!0})},C=e=>{let t=window;t.gtag&&t.gtag("consent","update",{analytics_storage:e.analytics?"granted":"denied",ad_storage:e.marketing?"granted":"denied",functionality_storage:e.functional?"granted":"denied",personalization_storage:e.functional?"granted":"denied"}),e.analytics||(t["ga-disable-GA_MEASUREMENT_ID"]=!0),t.fbq&&!e.marketing&&t.fbq("consent","revoke")},E=async()=>{let e={essential:!0,analytics:!0,functional:!0,marketing:!0};w(e),await S(e),s(!1)},A=async()=>{let e={essential:!0,analytics:!1,functional:!1,marketing:!1};w(e),await S(e),s(!1)},P=async()=>{await S(N),s(!1)};return n?(0,r.jsx)("div",{className:"fixed inset-x-0 bottom-0 z-50 p-4 sm:bottom-4 sm:left-4 sm:right-auto sm:max-w-lg",children:(0,r.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-white shadow-2xl dark:border-gray-700 dark:bg-gray-900 overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-4 py-3 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{className:"w-5 h-5 text-white"}),(0,r.jsx)("span",{className:"font-semibold text-white",children:a["cookie.title"]||"Cookie Preferences"})]}),(0,r.jsx)("button",{onClick:A,className:"p-1 hover:bg-white/10 rounded transition-colors","aria-label":"Close",children:(0,r.jsx)(x.Z,{className:"w-4 h-4 text-white"})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Essential"}),(0,r.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Always Active"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Required for the site to function"})]}),(0,r.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Analytics"}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:N.analytics,onChange:e=>w(t=>({...t,analytics:e.target.checked})),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-9 h-5 bg-gray-300 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Help us improve with usage data"})]}),(0,r.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Functional"}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:N.functional,onChange:e=>w(t=>({...t,functional:e.target.checked})),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-9 h-5 bg-gray-300 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Remember your preferences"})]}),(0,r.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Marketing"}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:N.marketing,onChange:e=>w(t=>({...t,marketing:e.target.checked})),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-9 h-5 bg-gray-300 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Personalised ads and marketing"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Back"}),(0,r.jsx)("button",{onClick:P,className:"flex-1 px-4 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors",children:"Save Preferences"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:a["cookie.description"]||"We use cookies to enhance your experience. Choose your preferences."}),"US"===y&&(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a["cookie.ccpaNotice"]||"California residents: See our Privacy Policy for CCPA details."}),("UK"===y||"EU"===y)&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[(0,r.jsx)(m.Z,{className:"w-3 h-3"}),"Protected under ","UK"===y?"UK GDPR":"EU GDPR"]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,r.jsxs)("button",{className:"flex-1 px-4 py-2.5 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",onClick:E,children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),a["cookie.acceptAll"]||"Accept All"]}),(0,r.jsx)("button",{className:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",onClick:A,children:a["cookie.rejectOptional"]||"Essential Only"})]}),(0,r.jsxs)("button",{onClick:()=>c(!0),className:"w-full text-sm text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 flex items-center justify-center gap-1",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4"}),a["cookie.manage"]||"Customise preferences"]})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-2 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsx)(u.default,{href:"/cookies",className:"hover:text-purple-600 transition-colors",children:"Cookie Policy"}),(0,r.jsx)(u.default,{href:"/privacy",className:"hover:text-purple-600 transition-colors",children:"Privacy"})]})]})]})}):null}var w=a(14163),S=a(43949),C=a(62021);let E=(0,o.createContext)(void 0),A="athena_cookie_consent",P="athena_privacy_mode",U="http://localhost:5000".replace(/\/$/,""),_=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO"];function I(e){let{children:t}=e,[a,n]=(0,o.useState)(null),[s,i]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(null),[g,x]=(0,o.useState)(!1),[m,p]=(0,o.useState)(!0),f="UK"===d||"GB"===d,h=null!==d&&_.includes(d),y=(0,o.useCallback)(()=>{let e=localStorage.getItem("athena_visitor_id");return e||(e="visitor_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("athena_visitor_id",e)),e},[]),k=(0,o.useCallback)(()=>{try{var e,t;let a=Intl.DateTimeFormat().resolvedOptions().timeZone,r=navigator.language;if(a.startsWith("Europe/London")||"GB"===a)return"UK";if(a.startsWith("Europe/")){let e=null===(t=r.split("-")[1])||void 0===t?void 0:t.toUpperCase();if(e&&_.includes(e))return e;return"EU"}if(a.startsWith("America/"))return"US";if(a.startsWith("Australia/")||a.startsWith("Pacific/Auckland"))return"ANZ";let n=null===(e=r.split("-")[1])||void 0===e?void 0:e.toUpperCase();if("GB"===n||"UK"===n)return"UK";if(n&&_.includes(n))return n;if("US"===n)return"US";return"ANZ"}catch(e){return"ANZ"}},[]);(0,o.useEffect)(()=>{(async()=>{try{let e=k();u(e);let t=localStorage.getItem(A);if(t){let e=JSON.parse(t);n(e),b(e)}else{let t="UK"===e||"GB"===e||_.includes(e);i(t)}let a=localStorage.getItem(P);a&&x("true"===a)}catch(e){console.error("Failed to load GDPR preferences:",e)}finally{p(!1)}})()},[k]);let b=e=>{let t=window;t.gtag&&t.gtag("consent","update",{analytics_storage:e.analytics?"granted":"denied",ad_storage:e.marketing?"granted":"denied",functionality_storage:e.functional?"granted":"denied",personalization_storage:e.functional?"granted":"denied"}),e.analytics||(t["ga-disable-GA_MEASUREMENT_ID"]=!0),t.fbq&&!e.marketing&&t.fbq("consent","revoke")},j=(0,o.useCallback)(async e=>{let t={essential:!0,...e};localStorage.setItem(A,JSON.stringify(t)),n(t),i(!1),c(!1),b(t);try{let t=y();await fetch("".concat(U,"/api/gdpr/cookies"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:t,...e})})}catch(e){console.error("Failed to save cookie consent to server:",e)}},[y]),v=(0,o.useCallback)(async()=>{await j({analytics:!0,marketing:!0,functional:!0})},[j]),N=(0,o.useCallback)(async()=>{await j({analytics:!1,marketing:!1,functional:!1})},[j]),w=(0,o.useCallback)(()=>{c(!0)},[]),S=(0,o.useCallback)(()=>{i(!1)},[]),C=(0,o.useCallback)(()=>{c(!0)},[]),I=(0,o.useCallback)(()=>{c(!1)},[]),O=(0,o.useCallback)(e=>{x(e),localStorage.setItem(P,e.toString()),e&&a&&j({analytics:!1,marketing:!1,functional:!1})},[a,j]);return(0,r.jsx)(E.Provider,{value:{cookieConsent:a,showCookieBanner:s,acceptAllCookies:v,rejectOptionalCookies:N,saveCookiePreferences:j,openCookieSettings:w,closeCookieBanner:S,userRegion:d,isGDPRRegion:f||h,isUKRegion:f,isEURegion:h,privacyMode:g,setPrivacyMode:O,showConsentModal:l,openConsentModal:C,closeConsentModal:I,isLoading:m},children:t})}function O(e){let{children:t}=e,{setLoading:a,isLoading:n}=(0,l.tN)();return(0,o.useEffect)(()=>{(0,c.S$)()||a(!1)},[a]),(0,r.jsx)(r.Fragment,{children:t})}function G(e){let{children:t}=e,{theme:a}=(0,l.HB)();return(0,o.useEffect)(()=>{var e;let t=document.documentElement,r=e=>{if("system"===e){let e=window.matchMedia("(prefers-color-scheme: dark)").matches;t.classList.toggle("dark",e);return}t.classList.toggle("dark","dark"===e)};if(r(a),"system"!==a)return;let n=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>r("system");return"function"==typeof n.addEventListener?(n.addEventListener("change",s),()=>n.removeEventListener("change",s)):(null===(e=n.addListener)||void 0===e||e.call(n,s),()=>{var e;return null===(e=n.removeListener)||void 0===e?void 0:e.call(n,s)})},[a]),(0,r.jsx)(r.Fragment,{children:t})}function D(e){let{children:t}=e;return(0,o.useEffect)(()=>{let e=(0,d.aj)();"undefined"!=typeof document&&(document.documentElement.lang=e.split("-")[0]||"en"),(0,C.G)(e),(0,w.UF)(e);let t=(0,w.UZ)(e);return()=>null==t?void 0:t()},[]),(0,r.jsx)(r.Fragment,{children:t})}function K(e){let{children:t}=e,[a]=(0,o.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1,retry:1}}})),l=(0,C.u)((0,d.aj)());return(0,r.jsx)(s.aH,{client:a,children:(0,r.jsxs)(S.a3,{i18n:l,children:[(0,r.jsxs)(I,{children:[(0,r.jsx)(G,{children:(0,r.jsx)(D,{children:(0,r.jsx)(O,{children:t})})}),(0,r.jsx)(N,{})]}),(0,r.jsx)(i.t,{initialIsOpen:!1})]})})}},9783:function(e,t,a){"use strict";a.d(t,{default:function(){return d}});var r=a(57437),n=a(2265),s=a(27648),i=a(71837),o=a(92371),l=a(93448);let c="athena.cookieConsent";function d(){let{isAuthenticated:e}=(0,o.tN)(),[t,a]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),g=(0,n.useMemo)(()=>(0,l.lw)("athena.region","ANZ"),[]),x="UK"===g||"EU"===g,m="US"===g;(0,n.useEffect)(()=>{!function(){let e=window.localStorage.getItem(c);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}()&&(x||m)&&a(!0)},[x,m]);let p=async t=>{let r={...t,updatedAt:new Date().toISOString()};if(window.localStorage.setItem(c,JSON.stringify(r)),(0,l.KI)("athena.consentUpdatedAt",r.updatedAt),e)try{u(!0),await i.BG.updateConsents(t)}finally{u(!1)}a(!1)};return t?(0,r.jsx)("div",{className:"fixed inset-x-0 bottom-0 z-50 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Privacy & Cookies"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 max-w-2xl",children:"We use cookies to operate the platform, improve experiences, and measure performance. You can accept all cookies or reject optional ones."}),m&&(0,r.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"California residents: You can opt out of certain data sharing at any time."})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>p({consentMarketing:!1,consentDataProcessing:!0,consentCookies:!1,consentDoNotSell:m}),className:"px-4 py-2 text-xs font-semibold border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-200",disabled:d,children:"Reject optional"}),(0,r.jsx)("button",{type:"button",onClick:()=>p({consentMarketing:!0,consentDataProcessing:!0,consentCookies:!0,consentDoNotSell:!1}),className:"px-4 py-2 text-xs font-semibold bg-primary text-primary-foreground rounded-lg",disabled:d,children:"Accept all"}),(0,r.jsx)(s.default,{href:e?"/dashboard/settings/privacy":"/cookies",className:"px-4 py-2 text-xs font-semibold text-primary-600 dark:text-primary-400",children:"Manage in Settings"})]})]})}):null}},2778:function(){}},function(e){e.O(0,[5935,2461,2972,3464,6137,5021,9064,5883,5521,1845,1837,4937,2971,2117,1744],function(){return e(e.s=80774)}),_N_E=e.O()}]);