(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4963],{56947:function(e,t,r){Promise.resolve().then(r.bind(r,17355))},17355:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(57437),n=r(2265),l=r(99376),s=r(29827),i=r(11713),o=r(21770),c=r(91723),d=r(42208),u=r(86595),x=r(53417),m=r(30401),g=r(32489),h=r(32660),p=r(48736),f=r(73247),b=r(92369),y=r(5005),N=r(31047),v=r(40875),j=r(92735),w=r(27648),E=r(71837),R=r(12381),I=r(55710),k=r(69064);let D={PENDING:{label:"Pending Review",color:"bg-gray-100 text-gray-700",icon:c.Z},REVIEWING:{label:"Under Review",color:"bg-blue-100 text-blue-700",icon:d.Z},SHORTLISTED:{label:"Shortlisted",color:"bg-purple-100 text-purple-700",icon:u.Z},INTERVIEW:{label:"Interview Stage",color:"bg-indigo-100 text-indigo-700",icon:x.Z},OFFERED:{label:"Offer Extended",color:"bg-green-100 text-green-700",icon:m.Z},HIRED:{label:"Hired",color:"bg-emerald-100 text-emerald-700",icon:m.Z},REJECTED:{label:"Rejected",color:"bg-red-100 text-red-700",icon:g.Z},WITHDRAWN:{label:"Withdrawn",color:"bg-orange-100 text-orange-700",icon:g.Z}},T=["PENDING","REVIEWING","SHORTLISTED","INTERVIEW","OFFERED","HIRED","REJECTED","WITHDRAWN"];function C(){var e,t,r,c;let x=(0,l.useParams)(),m=(0,s.NL)(),C=x.orgId,[S,A]=(0,n.useState)(""),[Z,O]=(0,n.useState)("all"),[P,W]=(0,n.useState)("all"),[F,L]=(0,n.useState)(null),[H,_]=(0,n.useState)(null),{data:M,isLoading:U}=(0,i.a)({queryKey:["employer-applications",C],queryFn:async()=>(await E.hi.get("/employer/organizations/".concat(C,"/applications"),{params:{limit:100}})).data}),V=(0,o.D)({mutationFn:async e=>{let{applicationId:t,status:r}=e;return(await E.hi.patch("/employer/applications/".concat(t,"/status"),{status:r})).data},onSuccess:()=>{m.invalidateQueries({queryKey:["employer-applications",C]}),k.ZP.success("Application status updated"),_(null)},onError:e=>{var t,r;k.ZP.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Failed to update status")}}),G=(null==M?void 0:null===(e=M.data)||void 0===e?void 0:e.applications)||[],z=Array.from(new Map(G.map(e=>[e.job.id,e.job])).values()),J=G.filter(e=>{let t="all"===Z||e.status===Z,r="all"===P||e.job.id===P,a=""===S||"".concat(e.user.firstName," ").concat(e.user.lastName).toLowerCase().includes(S.toLowerCase())||e.job.title.toLowerCase().includes(S.toLowerCase());return t&&r&&a}),q=G.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,a.jsxs)(w.default,{href:"/employer/organizations/".concat(C),className:"inline-flex items-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 mb-6",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-7 w-7 text-blue-600"}),"Applications"]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Review and manage candidate applications"})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 mb-6 overflow-x-auto",children:(0,a.jsx)("div",{className:"flex gap-2 min-w-max",children:T.slice(0,6).map(e=>{let t=D[e],r=t.icon;return(0,a.jsxs)("button",{onClick:()=>O(Z===e?"all":e),className:"flex-1 min-w-[120px] p-3 rounded-lg border-2 transition ".concat(Z===e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[(0,a.jsx)(r,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q[e]||0})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:t.label})]},e)})})}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(f.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:S,onChange:e=>A(e.target.value),className:"input w-full pl-10",placeholder:"Search candidates or jobs..."})]}),(0,a.jsxs)("select",{value:P,onChange:e=>W(e.target.value),className:"input w-full md:w-48",children:[(0,a.jsx)("option",{value:"all",children:"All Jobs"}),z.map(e=>(0,a.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,a.jsxs)("select",{value:Z,onChange:e=>O(e.target.value),className:"input w-full md:w-48",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),T.map(e=>(0,a.jsx)("option",{value:e,children:D[e].label},e))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"".concat(F?"lg:col-span-2":"lg:col-span-3"),children:U?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"})}):0===J.length?(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center",children:[(0,a.jsx)(p.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),(0,a.jsx)("p",{className:"text-gray-500",children:0===G.length?"When candidates apply to your jobs, they will appear here":"Try adjusting your filters"})]}):(0,a.jsx)("div",{className:"space-y-4",children:J.map(e=>{var t,r;let n=D[e.status],l=n.icon;return(0,a.jsx)("div",{onClick:()=>L(e),className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 cursor-pointer hover:shadow-md transition ".concat((null==F?void 0:F.id)===e.id?"ring-2 ring-blue-500":""),children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:(null===(t=e.user.profile)||void 0===t?void 0:t.avatar)?(0,a.jsx)("img",{src:e.user.profile.avatar,alt:"",className:"h-12 w-12 rounded-full object-cover"}):(0,a.jsx)(b.Z,{className:"h-6 w-6 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:[e.user.firstName," ",e.user.lastName]}),e.rating&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 fill-current"}),(0,a.jsx)("span",{className:"text-sm",children:e.rating})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:(null===(r=e.user.profile)||void 0===r?void 0:r.headline)||e.user.email}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(y.Z,{className:"h-3 w-3"}),e.job.title]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(N.Z,{className:"h-3 w-3"}),(0,I.Q)(new Date(e.createdAt),{addSuffix:!0})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),_(H===e.id?null:e.id)},className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ".concat(n.color),children:[(0,a.jsx)(l,{className:"h-3 w-3"}),n.label,(0,a.jsx)(v.Z,{className:"h-3 w-3"})]}),H===e.id&&(0,a.jsx)("div",{className:"absolute right-0 top-8 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20",children:T.map(t=>{let r=D[t],n=r.icon;return(0,a.jsxs)("button",{onClick:r=>{r.stopPropagation(),V.mutate({applicationId:e.id,status:t})},disabled:e.status===t,className:"flex items-center gap-2 px-4 py-2 text-sm w-full text-left hover:bg-gray-100 dark:hover:bg-gray-700 ".concat(e.status===t?"opacity-50":""),children:[(0,a.jsx)(n,{className:"h-4 w-4"}),r.label]},t)})})]})]})},e.id)})})}),F&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 h-fit sticky top-6",children:[(0,a.jsx)("button",{onClick:()=>L(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 lg:hidden",children:(0,a.jsx)(g.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"h-20 w-20 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mx-auto mb-3",children:(null===(t=F.user.profile)||void 0===t?void 0:t.avatar)?(0,a.jsx)("img",{src:F.user.profile.avatar,alt:"",className:"h-20 w-20 rounded-full object-cover"}):(0,a.jsx)(b.Z,{className:"h-10 w-10 text-gray-400"})}),(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[F.user.firstName," ",F.user.lastName]}),(0,a.jsx)("p",{className:"text-gray-500",children:null===(r=F.user.profile)||void 0===r?void 0:r.headline})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,a.jsx)(w.default,{href:"/profile/".concat(F.user.id),className:"flex-1",children:(0,a.jsxs)(R.z,{variant:"outline",className:"w-full",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"View Profile"]})}),(null===(c=F.user.profile)||void 0===c?void 0:c.resumeUrl)&&(0,a.jsx)("a",{href:F.user.profile.resumeUrl,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(R.z,{variant:"outline",children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Applied For"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:F.job.title})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Applied"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:new Date(F.createdAt).toLocaleDateString("en-AU",{day:"numeric",month:"long",year:"numeric"})})]}),F.coverLetter&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cover Letter"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:F.coverLetter})]}),F.notes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:F.notes})]})]})]})]})]})}},12381:function(e,t,r){"use strict";r.d(t,{d:function(){return i},z:function(){return o}});var a=r(57437),n=r(2265),l=r(90535),s=r(93448);let i=(0,l.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",secondary:"bg-secondary-500 text-white hover:bg-secondary-600",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-950",ghost:"hover:bg-gray-100 dark:hover:bg-gray-800",link:"text-primary-500 underline-offset-4 hover:underline",destructive:"bg-red-500 text-white hover:bg-red-600"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,...o}=e;return(0,a.jsx)("button",{className:(0,s.cn)(i({variant:n,size:l,className:r})),ref:t,...o})});o.displayName="Button"},93448:function(e,t,r){"use strict";r.d(t,{C7:function(){return b},KI:function(){return s},MW:function(){return m},OF:function(){return o},Pp:function(){return p},Qm:function(){return h},SY:function(){return u},_6:function(){return f},aj:function(){return i},cn:function(){return c},hv:function(){return v},hw:function(){return g},lw:function(){return l},nJ:function(){return N},p6:function(){return d},wW:function(){return y},xG:function(){return x}});var a=r(61994),n=r(53335);function l(e,t){return window.localStorage.getItem(e)||t}function s(e,t){window.localStorage.setItem(e,t)}function i(){return window.localStorage.getItem("athena.locale")||window.navigator.language||"en-AU"}function o(){return l("athena.currency","AUD").toUpperCase()}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return new Date(e).toLocaleDateString(r,t||{year:"numeric",month:"short",day:"numeric"})}function u(e){let t=new Date,r=new Date(e),a=Math.floor((t.getTime()-r.getTime())/1e3);if(a<60)return"just now";let n=Math.floor(a/60);if(n<60)return"".concat(n,"m ago");let l=Math.floor(n/60);if(l<24)return"".concat(l,"h ago");let s=Math.floor(l/24);if(s<7)return"".concat(s,"d ago");let i=Math.floor(s/7);return i<4?"".concat(i,"w ago"):d(e)}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function m(e,t){return e||t?e&&t?"".concat(x(e)," - ").concat(x(t)):e?"From ".concat(x(e)):t?"Up to ".concat(x(t)):"Salary not specified":"Salary not specified"}function g(e){return e?x(e):"Not specified"}function h(e,t){return"".concat(e.charAt(0)).concat(t.charAt(0)).toUpperCase()}function p(e,t){return"".concat(e," ").concat(t).trim()}function f(e,t,r){return 1===e?t:r||"".concat(t,"s")}let b={EARLY_CAREER:"Early Career",MID_CAREER:"Professional",ENTREPRENEUR:"Entrepreneur",CREATOR:"Creator",MENTOR:"Mentor",EDUCATION_PROVIDER:"Education Provider",EMPLOYER:"Employer",REAL_ESTATE:"Real Estate",GOVERNMENT_NGO:"Government / NGO"},y={FULL_TIME:"Full-time",PART_TIME:"Part-time",CONTRACT:"Contract",FREELANCE:"Freelance",INTERNSHIP:"Internship"},N={PENDING:"Pending",REVIEWED:"Reviewed",SHORTLISTED:"Shortlisted",INTERVIEW:"Interview",OFFERED:"Offered",HIRED:"Hired",REJECTED:"Rejected",WITHDRAWN:"Withdrawn"},v={PENDING:"bg-yellow-100 text-yellow-800",REVIEWED:"bg-blue-100 text-blue-800",SHORTLISTED:"bg-purple-100 text-purple-800",INTERVIEW:"bg-indigo-100 text-indigo-800",OFFERED:"bg-green-100 text-green-800",HIRED:"bg-emerald-100 text-emerald-800",REJECTED:"bg-red-100 text-red-800",WITHDRAWN:"bg-gray-100 text-gray-800"}}},function(e){e.O(0,[2972,3464,6137,5021,1713,9064,2020,5710,5039,1837,2971,2117,1744],function(){return e(e.s=56947)}),_N_E=e.O()}]);