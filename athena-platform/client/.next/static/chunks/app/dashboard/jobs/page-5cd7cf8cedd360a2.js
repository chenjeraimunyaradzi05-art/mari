(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8740],{30710:function(e,a,s){Promise.resolve().then(s.bind(s,85622))},85622:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return f}});var l=s(57437),t=s(2265),r=s(27648),i=s(99376),n=s(73247),c=s(83774),d=s(90740),x=s(32489),o=s(98420),m=s(58896),h=s(5005),g=s(95252),u=s(91723),p=s(61178),y=s(72967),j=s(93448);let v=[{value:"FULL_TIME",label:"Full-time"},{value:"PART_TIME",label:"Part-time"},{value:"CONTRACT",label:"Contract"},{value:"FREELANCE",label:"Freelance"},{value:"INTERNSHIP",label:"Internship"}],b=[{value:"entry",label:"Entry Level"},{value:"mid",label:"Mid Level"},{value:"senior",label:"Senior Level"},{value:"lead",label:"Lead / Manager"},{value:"executive",label:"Executive"}],N=[{value:"relevance",label:"Most Relevant"},{value:"recent",label:"Most Recent"},{value:"salary_high",label:"Highest Salary"},{value:"salary_low",label:"Lowest Salary"}];function f(){var e,a;let s=(0,i.useRouter)(),f=(0,i.useSearchParams)(),[k,w]=(0,t.useState)(f.get("q")||""),[S,C]=(0,t.useState)(f.get("location")||""),[E,Z]=(0,t.useState)([]),[M,P]=(0,t.useState)([]),[L,R]=(0,t.useState)(!1),[_,T]=(0,t.useState)("relevance"),{data:$,isLoading:q,error:F}=(0,y.C8)({q:k,location:S,type:E.join(","),experience:M.join(","),sort:_,page:1,limit:20}),{data:A}=(0,y.Tx)(),I=(0,y.C$)(),z=(0,y.PY)(),D=new Set((A||[]).map(e=>e.id)),J=e=>{Z(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},O=e=>{P(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},U=()=>{Z([]),P([]),w(""),C("")},Y=E.length>0||M.length>0||k||S;return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Find Your Dream Job"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Discover opportunities matched to your skills and goals"})]}),(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault();let a=new URLSearchParams;k&&a.set("q",k),S&&a.set("location",S),s.push("/dashboard/jobs?".concat(a.toString()))},className:"mb-6",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,l.jsx)("input",{type:"text",value:k,onChange:e=>w(e.target.value),placeholder:"Job title, skills, or company",className:"input pl-10 w-full"})]}),(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,l.jsx)("input",{type:"text",value:S,onChange:e=>C(e.target.value),placeholder:"City, state, or remote",className:"input pl-10 w-full"})]}),(0,l.jsx)("button",{type:"submit",className:"btn-primary px-8",children:"Search"})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsxs)("button",{onClick:()=>R(!L),className:(0,j.cn)("btn-outline flex items-center space-x-2",L&&"bg-primary-50 border-primary-500"),children:[(0,l.jsx)(d.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Filters"}),Y&&(0,l.jsx)("span",{className:"w-5 h-5 bg-primary-500 text-white text-xs rounded-full flex items-center justify-center",children:E.length+M.length})]}),(0,l.jsx)("div",{className:"hidden sm:flex items-center space-x-2",children:v.slice(0,3).map(e=>(0,l.jsx)("button",{onClick:()=>J(e.value),className:(0,j.cn)("px-3 py-1.5 rounded-full text-sm font-medium transition",E.includes(e.value)?"bg-primary-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:e.label},e.value))}),Y&&(0,l.jsxs)("button",{onClick:U,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center space-x-1",children:[(0,l.jsx)(x.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Clear all"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"Sort by:"}),(0,l.jsx)("select",{value:_,onChange:e=>T(e.target.value),className:"text-sm border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-1.5 bg-white dark:bg-gray-900",children:N.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),L&&(0,l.jsx)("div",{className:"card mb-6",children:(0,l.jsxs)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2 block",children:"Job Type"}),(0,l.jsx)("div",{className:"space-y-2",children:v.map(e=>(0,l.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:E.includes(e.value),onChange:()=>J(e.value),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,l.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.label})]},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2 block",children:"Experience Level"}),(0,l.jsx)("div",{className:"space-y-2",children:b.map(e=>(0,l.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:M.includes(e.value),onChange:()=>O(e.value),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,l.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.label})]},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2 block",children:"Salary Range"}),(0,l.jsx)("div",{className:"space-y-2",children:(0,l.jsxs)("select",{className:"input text-sm",children:[(0,l.jsx)("option",{value:"",children:"Any"}),(0,l.jsx)("option",{value:"0-50000",children:"Under $50,000"}),(0,l.jsx)("option",{value:"50000-80000",children:"$50,000 - $80,000"}),(0,l.jsx)("option",{value:"80000-120000",children:"$80,000 - $120,000"}),(0,l.jsx)("option",{value:"120000-150000",children:"$120,000 - $150,000"}),(0,l.jsx)("option",{value:"150000+",children:"$150,000+"})]})})]})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[$&&(0,l.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(null===(e=$.jobs)||void 0===e?void 0:e.length)||0," of ",$.total||0," jobs"]}),q?(0,l.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,l.jsx)("div",{className:"card animate-pulse",children:(0,l.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,l.jsx)("div",{className:"w-14 h-14 bg-gray-200 dark:bg-gray-700 rounded-lg"}),(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsx)("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]})},e))}):(null==$?void 0:null===(a=$.jobs)||void 0===a?void 0:a.length)?(0,l.jsx)("div",{className:"space-y-4",children:$.jobs.map(e=>{var a,s,t;return(0,l.jsx)(r.default,{href:"/dashboard/jobs/".concat(e.id),className:"card hover:shadow-md transition group block",children:(0,l.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,l.jsx)("div",{className:"w-14 h-14 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center flex-shrink-0",children:(null===(a=e.organization)||void 0===a?void 0:a.logo)?(0,l.jsx)("img",{src:e.organization.logo,alt:e.organization.name,className:"w-10 h-10 object-contain"}):(0,l.jsx)(o.Z,{className:"w-6 h-6 text-gray-400"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 transition",children:e.title}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null===(s=e.organization)||void 0===s?void 0:s.name})]}),e.matchScore&&(0,l.jsxs)("div",{className:"flex items-center space-x-1 text-green-600 text-sm",children:[(0,l.jsx)(m.Z,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:[e.matchScore,"% match"]})]})]}),(0,l.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-sm text-gray-500 dark:text-gray-400",children:[(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),e.location]}),(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(h.Z,{className:"w-4 h-4 mr-1"}),j.wW[e.type]||e.type]}),(e.salaryMin||e.salaryMax)&&(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(g.Z,{className:"w-4 h-4 mr-1"}),(0,j.MW)(e.salaryMin,e.salaryMax)]}),(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),(0,j.SY)(e.createdAt)]})]}),(null===(t=e.requiredSkills)||void 0===t?void 0:t.length)>0&&(0,l.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.requiredSkills.slice(0,5).map(e=>(0,l.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded text-xs",children:e},e)),e.requiredSkills.length>5&&(0,l.jsxs)("span",{className:"px-2 py-1 text-gray-500 text-xs",children:["+",e.requiredSkills.length-5," more"]})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsx)("button",{onClick:a=>{a.preventDefault(),D.has(e.id)?z.mutate(e.id):I.mutate(e.id)},disabled:I.isPending||z.isPending,"aria-label":D.has(e.id)?"Remove from saved jobs":"Save job",className:(0,j.cn)("p-2 transition disabled:opacity-50",D.has(e.id)?"text-primary-600 hover:text-primary-700":"text-gray-400 hover:text-primary-600"),children:(0,l.jsx)(p.Z,{className:(0,j.cn)("w-5 h-5",D.has(e.id)&&"fill-current")})})})]})},e.id)})}):(0,l.jsxs)("div",{className:"card text-center py-12",children:[(0,l.jsx)(h.Z,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No jobs found"}),(0,l.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Try adjusting your search or filters"}),(0,l.jsx)("button",{onClick:U,className:"btn-primary",children:"Clear Filters"})]})]}),(null==$?void 0:$.pagination)&&$.pagination.pages>1&&(0,l.jsxs)("div",{className:"mt-8 flex items-center justify-center space-x-2",children:[(0,l.jsx)("button",{disabled:1===$.pagination.page,className:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 disabled:opacity-50",children:"Previous"}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",$.pagination.page," of ",$.pagination.pages]}),(0,l.jsx)("button",{disabled:$.pagination.page===$.pagination.pages,className:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 disabled:opacity-50",children:"Next"})]})]})}}},function(e){e.O(0,[2972,3464,6137,5021,1713,9064,5883,9123,1837,2967,2971,2117,1744],function(){return e(e.s=30710)}),_N_E=e.O()}]);