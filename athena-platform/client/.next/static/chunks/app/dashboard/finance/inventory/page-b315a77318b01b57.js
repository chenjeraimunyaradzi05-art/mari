(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[251],{16976:function(e,t,a){Promise.resolve().then(a.bind(a,57384))},27648:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var r=a(72972),s=a.n(r)},57384:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(57437),s=a(2265),d=a(27648),n=a(71837),i=a(93448);function l(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[x,u]=(0,s.useState)([]),[g,m]=(0,s.useState)(!0),[y,h]=(0,s.useState)(!1),[b,p]=(0,s.useState)(null),[v,N]=(0,s.useState)({organizationId:"",sku:"",name:"",description:"",unit:"unit",valuationMethod:"FIFO",currency:"AUD",cost:"",price:""}),[j,f]=(0,s.useState)({organizationId:"",name:"",code:"",address:""}),[k,C]=(0,s.useState)({itemId:"",locationId:"",type:"PURCHASE",quantity:"",unitCost:"",totalCost:"",reference:"",occurredAt:""}),[w,E]=(0,s.useState)(null),[I,S]=(0,s.useState)({sku:"",name:"",unit:"unit",valuationMethod:"FIFO",currency:"AUD",cost:"",price:""}),[A,R]=(0,s.useState)(null),[D,T]=(0,s.useState)({name:"",code:"",address:""}),[F,U]=(0,s.useState)(null),[M,O]=(0,s.useState)({type:"PURCHASE",quantity:"",unitCost:"",totalCost:"",reference:"",occurredAt:""});(0,s.useEffect)(()=>{let e=!0;return(async()=>{try{var a,r,s,d;let[i,o,x,g]=await Promise.all([n.hi.get("/inventory/items"),n.hi.get("/inventory/stock-levels"),n.hi.get("/inventory/locations"),n.hi.get("/inventory/transactions")]);if(!e)return;t((null===(a=i.data)||void 0===a?void 0:a.data)||[]),u((null===(r=o.data)||void 0===r?void 0:r.data)||[]),l((null===(s=x.data)||void 0===s?void 0:s.data)||[]),c((null===(d=g.data)||void 0===d?void 0:d.data)||[])}catch(a){if(!e)return;t([]),u([]),l([]),c([])}finally{e&&m(!1)}})(),()=>{e=!1}},[]);let L=async()=>{var e,a,r,s;let[d,i,o,x]=await Promise.all([n.hi.get("/inventory/items"),n.hi.get("/inventory/stock-levels"),n.hi.get("/inventory/locations"),n.hi.get("/inventory/transactions")]);t((null===(e=d.data)||void 0===e?void 0:e.data)||[]),u((null===(a=i.data)||void 0===a?void 0:a.data)||[]),l((null===(r=o.data)||void 0===r?void 0:r.data)||[]),c((null===(s=x.data)||void 0===s?void 0:s.data)||[])},P=async()=>{if(!v.sku.trim()||!v.name.trim()){p("SKU and name are required");return}h(!0),p(null),t([{id:"tmp-".concat(Date.now()),sku:v.sku,name:v.name,currency:v.currency||"AUD",cost:Number(v.cost||0),price:Number(v.price||0)},...e]);try{await n.hi.post("/inventory/items",{organizationId:v.organizationId||void 0,sku:v.sku,name:v.name,description:v.description||void 0,unit:v.unit||void 0,valuationMethod:v.valuationMethod,currency:v.currency||void 0,cost:Number(v.cost||0),price:Number(v.price||0)}),N({organizationId:"",sku:"",name:"",description:"",unit:"unit",valuationMethod:"FIFO",currency:"AUD",cost:"",price:""}),await L()}catch(s){var a,r;t(e),p((null==s?void 0:null===(r=s.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.error)||"Failed to create item")}finally{h(!1)}},q=async()=>{if(!j.name.trim()||!j.code.trim()){p("Location name and code are required");return}h(!0),p(null),l([{id:"tmp-".concat(Date.now()),name:j.name,code:j.code,address:j.address},...a]);try{await n.hi.post("/inventory/locations",{organizationId:j.organizationId||void 0,name:j.name,code:j.code,address:j.address||void 0}),f({organizationId:"",name:"",code:"",address:""}),await L()}catch(r){var e,t;l(a),p((null==r?void 0:null===(t=r.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.error)||"Failed to create location")}finally{h(!1)}},z=async()=>{if(!k.itemId){p("Item is required");return}let e=Number(k.quantity||0);if(!Number.isFinite(e)||0===e){p("Quantity must be non-zero");return}h(!0),p(null),c([{id:"tmp-".concat(Date.now()),type:k.type,quantity:e,totalCost:k.totalCost?Number(k.totalCost):void 0},...o]);try{await n.hi.post("/inventory/transactions",{itemId:k.itemId,locationId:k.locationId||void 0,type:k.type,quantity:e,unitCost:k.unitCost?Number(k.unitCost):void 0,totalCost:k.totalCost?Number(k.totalCost):void 0,reference:k.reference||void 0,occurredAt:k.occurredAt||void 0}),C({itemId:"",locationId:"",type:"PURCHASE",quantity:"",unitCost:"",totalCost:"",reference:"",occurredAt:""}),await L()}catch(e){var t,a;c(o),p((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to create transaction")}finally{h(!1)}},H=async a=>{if(confirm("Delete this item?")){t(e.filter(e=>e.id!==a));try{await n.hi.delete("/inventory/items/".concat(a)),await L()}catch(a){var r,s;t(e),p((null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.error)||"Failed to delete item")}}},_=e=>{E(e.id),S({sku:e.sku||"",name:e.name||"",unit:e.unit||"unit",valuationMethod:e.valuationMethod||"FIFO",currency:e.currency||"AUD",cost:e.cost?String(e.cost):"",price:e.price?String(e.price):""})},G=async()=>{if(w){if(!I.sku.trim()||!I.name.trim()){p("SKU and name are required");return}t(e.map(e=>e.id===w?{...e,sku:I.sku,name:I.name,unit:I.unit,valuationMethod:I.valuationMethod,currency:I.currency,cost:I.cost?Number(I.cost):0,price:I.price?Number(I.price):0}:e));try{await n.hi.patch("/inventory/items/".concat(w),{sku:I.sku,name:I.name,unit:I.unit,valuationMethod:I.valuationMethod,currency:I.currency,cost:I.cost?Number(I.cost):void 0,price:I.price?Number(I.price):void 0}),E(null),await L()}catch(s){var a,r;t(e),p((null==s?void 0:null===(r=s.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.error)||"Failed to update item")}}},W=async e=>{if(confirm("Delete this location?")){l(a.filter(t=>t.id!==e));try{await n.hi.delete("/inventory/locations/".concat(e)),await L()}catch(e){var t,r;l(a),p((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to delete location")}}},V=e=>{R(e.id),T({name:e.name||"",code:e.code||"",address:e.address||""})},K=async()=>{if(A){if(!D.name.trim()||!D.code.trim()){p("Location name and code are required");return}l(a.map(e=>e.id===A?{...e,...D}:e));try{await n.hi.patch("/inventory/locations/".concat(A),{name:D.name,code:D.code,address:D.address||void 0}),R(null),await L()}catch(r){var e,t;l(a),p((null==r?void 0:null===(t=r.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.error)||"Failed to update location")}}},Q=async e=>{if(confirm("Delete this transaction?")){c(o.filter(t=>t.id!==e));try{await n.hi.delete("/inventory/transactions/".concat(e)),await L()}catch(e){var t,a;c(o),p((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to delete transaction")}}},J=e=>{U(e.id),O({type:e.type||"PURCHASE",quantity:e.quantity?String(e.quantity):"",unitCost:e.unitCost?String(e.unitCost):"",totalCost:e.totalCost?String(e.totalCost):"",reference:e.reference||"",occurredAt:e.occurredAt?new Date(e.occurredAt).toISOString().slice(0,16):""})},Y=async()=>{if(!F)return;let e=M.quantity?Number(M.quantity):0;if(!Number.isFinite(e)||0===e){p("Quantity must be non-zero");return}c(o.map(t=>t.id===F?{...t,type:M.type,quantity:e,unitCost:M.unitCost?Number(M.unitCost):void 0,totalCost:M.totalCost?Number(M.totalCost):void 0,reference:M.reference,occurredAt:M.occurredAt}:t));try{await n.hi.patch("/inventory/transactions/".concat(F),{type:M.type,quantity:e,unitCost:M.unitCost?Number(M.unitCost):void 0,totalCost:M.totalCost?Number(M.totalCost):void 0,reference:M.reference||void 0,occurredAt:M.occurredAt||void 0}),U(null),await L()}catch(e){var t,a;c(o),p((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to update transaction")}};return(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inventory"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Track items, costs, and stock levels."})]}),(0,r.jsx)(d.default,{href:"/dashboard/finance",className:"text-sm text-primary-600 hover:underline",children:"Back to Finance Hub"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Items"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:g?"—":e.length})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Stock Positions"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:g?"—":x.length})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:g?"Loading":"Ready"})]})]}),b&&(0,r.jsx)("div",{className:"card border border-red-200 bg-red-50 text-sm text-red-700",children:b}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"card space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"New Item"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organization ID (optional)"}),(0,r.jsx)("input",{value:v.organizationId,onChange:e=>N({...v,organizationId:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"SKU"}),(0,r.jsx)("input",{value:v.sku,onChange:e=>N({...v,sku:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Name"}),(0,r.jsx)("input",{value:v.name,onChange:e=>N({...v,name:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unit"}),(0,r.jsx)("input",{value:v.unit,onChange:e=>N({...v,unit:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valuation"}),(0,r.jsx)("select",{value:v.valuationMethod,onChange:e=>N({...v,valuationMethod:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",children:["FIFO","LIFO","AVERAGE"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Currency"}),(0,r.jsx)("input",{value:v.currency,onChange:e=>N({...v,currency:e.target.value.toUpperCase()}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cost"}),(0,r.jsx)("input",{value:v.cost,onChange:e=>N({...v,cost:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Price"}),(0,r.jsx)("input",{value:v.price,onChange:e=>N({...v,price:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]})]}),(0,r.jsx)("button",{className:"btn-primary",onClick:P,disabled:y,children:y?"Saving...":"Create Item"})]}),(0,r.jsxs)("div",{className:"card space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"New Location"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organization ID (optional)"}),(0,r.jsx)("input",{value:j.organizationId,onChange:e=>f({...j,organizationId:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Name"}),(0,r.jsx)("input",{value:j.name,onChange:e=>f({...j,name:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Code"}),(0,r.jsx)("input",{value:j.code,onChange:e=>f({...j,code:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Address"}),(0,r.jsx)("input",{value:j.address,onChange:e=>f({...j,address:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]})]}),(0,r.jsx)("button",{className:"btn-primary",onClick:q,disabled:y,children:y?"Saving...":"Create Location"})]})]}),(0,r.jsxs)("div",{className:"card space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"New Transaction"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Item"}),(0,r.jsxs)("select",{value:k.itemId,onChange:e=>C({...k,itemId:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",children:[(0,r.jsx)("option",{value:"",children:"Select item"}),e.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Location (optional)"}),(0,r.jsx)("input",{value:k.locationId,onChange:e=>C({...k,locationId:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"location_id"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Type"}),(0,r.jsx)("select",{value:k.type,onChange:e=>C({...k,type:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",children:["PURCHASE","SALE","ADJUSTMENT","TRANSFER","RETURN"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Quantity"}),(0,r.jsx)("input",{value:k.quantity,onChange:e=>C({...k,quantity:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unit Cost"}),(0,r.jsx)("input",{value:k.unitCost,onChange:e=>C({...k,unitCost:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Cost"}),(0,r.jsx)("input",{value:k.totalCost,onChange:e=>C({...k,totalCost:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reference"}),(0,r.jsx)("input",{value:k.reference,onChange:e=>C({...k,reference:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Occurred At"}),(0,r.jsx)("input",{type:"datetime-local",value:k.occurredAt,onChange:e=>C({...k,occurredAt:e.target.value}),className:"mt-1 w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]})]}),(0,r.jsx)("button",{className:"btn-primary",onClick:z,disabled:y,children:y?"Saving...":"Create Transaction"})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Items"})}),g?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading items..."}):0===e.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No items added yet."}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"SKU"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Name"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Cost"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Price"}),(0,r.jsx)("th",{className:"text-right py-2 text-xs font-semibold text-gray-500",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:e.slice(0,6).map(e=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[(0,r.jsx)("td",{className:"py-2 text-sm text-gray-900 dark:text-white",children:e.sku}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.name}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:(0,i.xG)(e.cost||0,e.currency||"AUD")}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:(0,i.xG)(e.price||0,e.currency||"AUD")}),(0,r.jsxs)("td",{className:"py-2 text-right",children:[(0,r.jsx)("button",{onClick:()=>_(e),className:"text-xs text-gray-600 hover:underline mr-2",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>H(e.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]})]},e.id))})]})})]}),w&&(0,r.jsxs)("div",{className:"card space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Item"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("input",{value:I.sku,onChange:e=>S({...I,sku:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"SKU"}),(0,r.jsx)("input",{value:I.name,onChange:e=>S({...I,name:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Name"}),(0,r.jsx)("input",{value:I.unit,onChange:e=>S({...I,unit:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Unit"}),(0,r.jsx)("select",{value:I.valuationMethod,onChange:e=>S({...I,valuationMethod:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",children:["FIFO","LIFO","AVERAGE"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)("input",{value:I.currency,onChange:e=>S({...I,currency:e.target.value.toUpperCase()}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Currency"}),(0,r.jsx)("input",{value:I.cost,onChange:e=>S({...I,cost:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Cost"}),(0,r.jsx)("input",{value:I.price,onChange:e=>S({...I,price:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Price"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{className:"btn-primary",onClick:G,children:"Save Changes"}),(0,r.jsx)("button",{className:"btn-outline",onClick:()=>E(null),children:"Cancel"})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Locations"})}),g?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading locations..."}):0===a.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No locations added yet."}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Name"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Code"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Address"}),(0,r.jsx)("th",{className:"text-right py-2 text-xs font-semibold text-gray-500",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:a.slice(0,6).map(e=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[(0,r.jsx)("td",{className:"py-2 text-sm text-gray-900 dark:text-white",children:e.name}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.code}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.address||"—"}),(0,r.jsxs)("td",{className:"py-2 text-right",children:[(0,r.jsx)("button",{onClick:()=>V(e),className:"text-xs text-gray-600 hover:underline mr-2",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>W(e.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]})]},e.id))})]})})]}),A&&(0,r.jsxs)("div",{className:"card space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Location"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("input",{value:D.name,onChange:e=>T({...D,name:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Name"}),(0,r.jsx)("input",{value:D.code,onChange:e=>T({...D,code:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Code"}),(0,r.jsx)("input",{value:D.address,onChange:e=>T({...D,address:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Address"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{className:"btn-primary",onClick:K,children:"Save Changes"}),(0,r.jsx)("button",{className:"btn-outline",onClick:()=>R(null),children:"Cancel"})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"})}),g?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading transactions..."}):0===o.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No transactions yet."}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Item"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Type"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Qty"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Cost"}),(0,r.jsx)("th",{className:"text-right py-2 text-xs font-semibold text-gray-500",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:o.slice(0,6).map(e=>{var t,a;return(0,r.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[(0,r.jsx)("td",{className:"py-2 text-sm text-gray-900 dark:text-white",children:(null===(t=e.item)||void 0===t?void 0:t.name)||"—"}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.type}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.quantity}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.totalCost?(0,i.xG)(e.totalCost,(null===(a=e.item)||void 0===a?void 0:a.currency)||"AUD"):"—"}),(0,r.jsxs)("td",{className:"py-2 text-right",children:[(0,r.jsx)("button",{onClick:()=>J(e),className:"text-xs text-gray-600 hover:underline mr-2",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>Q(e.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]})]},e.id)})})]})})]}),F&&(0,r.jsxs)("div",{className:"card space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Transaction"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)("select",{value:M.type,onChange:e=>O({...M,type:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",children:["PURCHASE","SALE","ADJUSTMENT","TRANSFER","RETURN"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)("input",{value:M.quantity,onChange:e=>O({...M,quantity:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Quantity"}),(0,r.jsx)("input",{value:M.unitCost,onChange:e=>O({...M,unitCost:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Unit Cost"}),(0,r.jsx)("input",{value:M.totalCost,onChange:e=>O({...M,totalCost:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Total Cost"}),(0,r.jsx)("input",{value:M.reference,onChange:e=>O({...M,reference:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm",placeholder:"Reference"}),(0,r.jsx)("input",{type:"datetime-local",value:M.occurredAt,onChange:e=>O({...M,occurredAt:e.target.value}),className:"rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{className:"btn-primary",onClick:Y,children:"Save Changes"}),(0,r.jsx)("button",{className:"btn-outline",onClick:()=>U(null),children:"Cancel"})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Stock Levels"})}),g?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading stock levels..."}):0===x.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No stock movements yet."}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"SKU"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Location"}),(0,r.jsx)("th",{className:"text-left py-2 text-xs font-semibold text-gray-500",children:"Quantity"})]})}),(0,r.jsx)("tbody",{children:x.slice(0,6).map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[(0,r.jsx)("td",{className:"py-2 text-sm text-gray-900 dark:text-white",children:e.sku}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.location||"Main"}),(0,r.jsx)("td",{className:"py-2 text-sm text-gray-600 dark:text-gray-300",children:e.quantity})]},"".concat(e.itemId,"-").concat(e.locationId||t)))})]})})]})]})}},93448:function(e,t,a){"use strict";a.d(t,{C7:function(){return p},KI:function(){return n},MW:function(){return g},OF:function(){return l},Pp:function(){return h},Qm:function(){return y},SY:function(){return x},_6:function(){return b},aj:function(){return i},cn:function(){return o},hv:function(){return j},hw:function(){return m},lw:function(){return d},nJ:function(){return N},p6:function(){return c},wW:function(){return v},xG:function(){return u}});var r=a(61994),s=a(53335);function d(e,t){return window.localStorage.getItem(e)||t}function n(e,t){window.localStorage.setItem(e,t)}function i(){return window.localStorage.getItem("athena.locale")||window.navigator.language||"en-AU"}function l(){return d("athena.currency","AUD").toUpperCase()}function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}function c(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return new Date(e).toLocaleDateString(a,t||{year:"numeric",month:"short",day:"numeric"})}function x(e){let t=new Date,a=new Date(e),r=Math.floor((t.getTime()-a.getTime())/1e3);if(r<60)return"just now";let s=Math.floor(r/60);if(s<60)return"".concat(s,"m ago");let d=Math.floor(s/60);if(d<24)return"".concat(d,"h ago");let n=Math.floor(d/24);if(n<7)return"".concat(n,"d ago");let i=Math.floor(n/7);return i<4?"".concat(i,"w ago"):c(e)}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function g(e,t){return e||t?e&&t?"".concat(u(e)," - ").concat(u(t)):e?"From ".concat(u(e)):t?"Up to ".concat(u(t)):"Salary not specified":"Salary not specified"}function m(e){return e?u(e):"Not specified"}function y(e,t){return"".concat(e.charAt(0)).concat(t.charAt(0)).toUpperCase()}function h(e,t){return"".concat(e," ").concat(t).trim()}function b(e,t,a){return 1===e?t:a||"".concat(t,"s")}let p={EARLY_CAREER:"Early Career",MID_CAREER:"Professional",ENTREPRENEUR:"Entrepreneur",CREATOR:"Creator",MENTOR:"Mentor",EDUCATION_PROVIDER:"Education Provider",EMPLOYER:"Employer",REAL_ESTATE:"Real Estate",GOVERNMENT_NGO:"Government / NGO"},v={FULL_TIME:"Full-time",PART_TIME:"Part-time",CONTRACT:"Contract",FREELANCE:"Freelance",INTERNSHIP:"Internship"},N={PENDING:"Pending",REVIEWED:"Reviewed",SHORTLISTED:"Shortlisted",INTERVIEW:"Interview",OFFERED:"Offered",HIRED:"Hired",REJECTED:"Rejected",WITHDRAWN:"Withdrawn"},j={PENDING:"bg-yellow-100 text-yellow-800",REVIEWED:"bg-blue-100 text-blue-800",SHORTLISTED:"bg-purple-100 text-purple-800",INTERVIEW:"bg-indigo-100 text-indigo-800",OFFERED:"bg-green-100 text-green-800",HIRED:"bg-emerald-100 text-emerald-800",REJECTED:"bg-red-100 text-red-800",WITHDRAWN:"bg-gray-100 text-gray-800"}}},function(e){e.O(0,[2972,3464,6137,1837,2971,2117,1744],function(){return e(e.s=16976)}),_N_E=e.O()}]);