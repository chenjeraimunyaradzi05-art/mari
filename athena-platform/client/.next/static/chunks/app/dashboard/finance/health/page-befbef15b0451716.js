(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{34034:function(e,t,a){Promise.resolve().then(a.bind(a,87200))},39763:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{color:c="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:x,...m}=a;return(0,r.createElement)("svg",{ref:n,...l,width:i,height:i,stroke:c,strokeWidth:d?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat(s(e)),u].join(" "),...m},[...t.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(x)?x:[x]])});return a.displayName="".concat(e),a}},22252:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},65302:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},15863:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},82431:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3085:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},70525:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},27648:function(e,t,a){"use strict";a.d(t,{default:function(){return l.a}});var r=a(72972),l=a.n(r)},87200:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(57437),l=a(2265),s=a(27648),n=a(70525),c=a(3085),i=a(22252),o=a(65302);let d=(0,a(39763).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var u=a(82431),x=a(15863),m=a(71837);let h=e=>e>=80?"text-emerald-600":e>=60?"text-yellow-600":e>=40?"text-orange-500":"text-red-500",g=e=>e>=80?"bg-emerald-500":e>=60?"bg-yellow-500":e>=40?"bg-orange-500":"bg-red-500",y=e=>e>=80?"Excellent":e>=60?"Good":e>=40?"Fair":e>=20?"Needs work":"Critical",f=e=>{try{return new Date(e).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}};function v(){let[e,t]=(0,l.useState)(null),[a,v]=(0,l.useState)(!0),[p,b]=(0,l.useState)(!1),[k,N]=(0,l.useState)(null),j=async()=>{var e,a,r,l;v(!0),N(null);try{let a=await m.o.getHealthScore();t((null===(e=a.data)||void 0===e?void 0:e.data)||null)}catch(e){(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)===404?t(null):N((null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.error)||"Failed to load financial health score.")}finally{v(!1)}};(0,l.useEffect)(()=>{j()},[]);let w=async()=>{var e,a,r;b(!0),N(null);try{let a=await m.o.recalculateHealthScore();t((null===(e=a.data)||void 0===e?void 0:e.data)||null)}catch(e){N((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.error)||"Unable to recalculate score.")}finally{b(!1)}},Z=e?[{label:"Savings",value:e.savingsScore,icon:n.Z},{label:"Debt management",value:e.debtScore,icon:c.Z},{label:"Emergency fund",value:e.emergencyFundScore,icon:i.Z},{label:"Investments",value:e.investmentScore,icon:n.Z},{label:"Insurance",value:e.insuranceScore,icon:o.Z}]:[];return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600",children:[(0,r.jsx)(d,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Health Score"})]}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-2",children:"Your financial wellness"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Get a personalized snapshot of your financial health"})]}),(0,r.jsxs)("button",{onClick:w,disabled:p,className:"btn-primary inline-flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 ".concat(p?"animate-spin":"")}),p?"Calculating...":e?"Recalculate":"Calculate score"]})]}),k&&(0,r.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:k}),a?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}),"Loading your score..."]}):e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-8 text-center",children:[(0,r.jsxs)("div",{className:"relative inline-flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"w-40 h-40",viewBox:"0 0 100 100",children:[(0,r.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-gray-200 dark:text-gray-700"}),(0,r.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"".concat(2.83*e.overallScore," 283"),transform:"rotate(-90 50 50)",className:g(e.overallScore)})]}),(0,r.jsxs)("div",{className:"absolute flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-4xl font-bold ".concat(h(e.overallScore)),children:e.overallScore}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"/ 100"})]})]}),(0,r.jsx)("p",{className:"text-lg font-semibold mt-4 ".concat(h(e.overallScore)),children:y(e.overallScore)}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Last calculated: ",f(e.calculatedAt)]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:Z.map(e=>{let t=e.icon;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(t,{className:"w-4 h-4 ".concat(h(e.value))}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.label})]}),(0,r.jsxs)("div",{className:"flex items-end justify-between",children:[(0,r.jsx)("span",{className:"text-2xl font-bold ".concat(h(e.value)),children:e.value}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"/ 100"})]}),(0,r.jsx)("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(g(e.value)),style:{width:"".concat(e.value,"%")}})})]},e.label)})}),e.recommendations&&e.recommendations.length>0&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Personalized recommendations"}),(0,r.jsx)("ul",{className:"space-y-3",children:e.recommendations.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"mt-1 w-5 h-5 rounded-full bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("span",{className:"text-xs font-semibold text-emerald-600",children:t+1})}),(0,r.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e})]},t))})]})]}):(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-8 text-center",children:[(0,r.jsx)(d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"No score yet"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2 mb-6 max-w-md mx-auto",children:"Click “Calculate score” to analyze your financial data and get personalized recommendations."})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(s.default,{href:"/dashboard/finance",className:"text-sm text-primary-600 hover:underline",children:"← Back to Finance Hub"})})]})}}},function(e){e.O(0,[2972,3464,1837,2971,2117,1744],function(){return e(e.s=34034)}),_N_E=e.O()}]);