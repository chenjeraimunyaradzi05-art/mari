(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6797],{47900:function(e,t,s){Promise.resolve().then(s.bind(s,75810))},75810:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(57437),r=s(2265),l=s(27648),c=s(71769),i=s(33276),d=s(65302),n=s(91723),x=s(49474),o=s(73247),m=s(31047),h=s(58896),g=s(93448),u=s(63687),p=s(72967),y=s(54761);function f(){let[e,t]=(0,r.useState)("all"),[s,f]=(0,r.useState)(""),{data:j,isLoading:N,isError:b}=(0,p.lY)(),w=(j||[]).map(e=>{var t,s;let a=e.enrollment,r=Math.max(0,Math.min(100,Number(null!==(s=null==a?void 0:a.progress)&&void 0!==s?s:0))),l=(null==a?void 0:a.updatedAt)||e.updatedAt||e.createdAt;return{id:e.id,title:e.title,instructor:e.providerName||(null===(t=e.organization)||void 0===t?void 0:t.name)||"ATHENA",image:"/images/course-placeholder.jpg",progress:r,lastAccessed:l?new Date(l).toISOString():void 0,category:e.type||"Course",certificate:r>=100}}),v=w.filter(t=>"in-progress"===e?t.progress>0&&t.progress<100:"completed"!==e||100===t.progress).filter(e=>e.title.toLowerCase().includes(s.toLowerCase())||e.instructor.toLowerCase().includes(s.toLowerCase())),k={totalCourses:w.length,inProgress:w.filter(e=>e.progress>0&&e.progress<100).length,completed:w.filter(e=>100===e.progress).length,totalHoursWatched:0,certificates:w.filter(e=>e.certificate).length};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Learning"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Track your progress and continue where you left off"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)(c.Z,{className:"w-8 h-8 text-primary-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.totalCourses}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Courses"})]}),(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)(i.Z,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.inProgress}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"In Progress"})]}),(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)(d.Z,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.completed}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completed"})]}),(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)(n.Z,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[k.totalHoursWatched.toFixed(1),"h"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hours Watched"})]}),(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)(x.Z,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.certificates}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Certificates"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>t("all"),className:(0,g.cn)("px-4 py-2 rounded-lg text-sm font-medium transition","all"===e?"bg-primary-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"),children:["All (",w.length,")"]}),(0,a.jsxs)("button",{onClick:()=>t("in-progress"),className:(0,g.cn)("px-4 py-2 rounded-lg text-sm font-medium transition","in-progress"===e?"bg-primary-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"),children:["In Progress (",k.inProgress,")"]}),(0,a.jsxs)("button",{onClick:()=>t("completed"),className:(0,g.cn)("px-4 py-2 rounded-lg text-sm font-medium transition","completed"===e?"bg-primary-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"),children:["Completed (",k.completed,")"]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search courses...",value:s,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-sm"})]})]}),N?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(y.q4,{}),(0,a.jsx)(y.q4,{}),(0,a.jsx)(y.q4,{})]}):b?(0,a.jsxs)("div",{className:"card text-center py-16",children:[(0,a.jsx)(c.Z,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Unable to load your courses"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Please try again. If you’re logged out, sign in first."}),(0,a.jsx)(l.default,{href:"/login",className:"btn-primary",children:"Go to Login"})]}):0===v.length?(0,a.jsxs)("div",{className:"card text-center py-16",children:[(0,a.jsx)(c.Z,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No courses found"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"all"!==e?"You don't have any courses in this category":"You haven't enrolled in any courses yet"}),(0,a.jsx)(l.default,{href:"/dashboard/learn",className:"btn-primary",children:"Browse Courses"})]}):(0,a.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,a.jsxs)("div",{className:"card-hover flex flex-col md:flex-row md:items-center gap-4",children:[(0,a.jsxs)(l.default,{href:"/dashboard/learn/".concat(e.id),className:"relative flex-shrink-0",children:[(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-full md:w-48 h-32 object-cover rounded-lg"}),100===e.progress?(0,a.jsx)("div",{className:"absolute inset-0 bg-green-500/80 rounded-lg flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-12 h-12 text-white"})}):(0,a.jsx)("div",{className:"absolute bottom-2 left-2 right-2",children:(0,a.jsxs)("div",{className:"bg-black/60 rounded-full px-3 py-1.5 text-white text-xs flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Continue"})]})})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.default,{href:"/dashboard/learn/".concat(e.id),className:"font-medium text-gray-900 dark:text-white hover:text-primary-500",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.instructor})]}),(0,a.jsx)(u.Ct,{variant:"secondary",className:"hidden md:block",children:e.category})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"number"==typeof e.completedLessons&&"number"==typeof e.totalLessons?"".concat(e.completedLessons," of ").concat(e.totalLessons," lessons"):"Progress"}),(0,a.jsxs)("span",{className:"font-medium text-primary-500",children:[e.progress,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:(0,g.cn)("h-full rounded-full transition-all",100===e.progress?"bg-green-500":"bg-primary-500"),style:{width:"".concat(e.progress,"%")}})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-3 text-sm text-gray-500 dark:text-gray-400",children:["number"==typeof e.hoursWatched&&"number"==typeof e.totalHours&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 mr-1"}),e.hoursWatched.toFixed(1),"h / ",e.totalHours,"h"]}),e.lastAccessed&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-1"}),"Last accessed ",new Date(e.lastAccessed).toLocaleDateString()]}),e.certificate&&(0,a.jsxs)("span",{className:"flex items-center text-green-500",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-1"}),"Certificate Earned"]})]})]}),(0,a.jsx)("div",{className:"flex md:flex-col items-center gap-2",children:100===e.progress?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.default,{href:"/dashboard/learn/".concat(e.id,"/certificate"),className:"btn-primary text-sm w-full md:w-auto",children:"View Certificate"}),(0,a.jsx)(l.default,{href:"/dashboard/learn/".concat(e.id),className:"btn-outline text-sm w-full md:w-auto",children:"Review"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.default,{href:"/dashboard/learn/".concat(e.id,"/continue"),className:"btn-primary text-sm w-full md:w-auto",children:"Continue"}),(0,a.jsx)(l.default,{href:"/dashboard/learn/".concat(e.id),className:"btn-outline text-sm w-full md:w-auto",children:"View Details"})]})})]},e.id))}),(0,a.jsx)("div",{className:"card bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-6 h-6 text-primary-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDD25 7 Day Learning Streak!"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Keep it up! You're building great learning habits."})]})]}),(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:[1,2,3,4,5,6,7].map(e=>(0,a.jsx)("div",{className:(0,g.cn)("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",e<=7?"bg-primary-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400"),children:e<=7?"✓":e},e))})]})})]})}}},function(e){e.O(0,[2972,3464,6137,5021,1713,9064,5883,8050,7329,1837,2967,3687,2971,2117,1744],function(){return e(e.s=47900)}),_N_E=e.O()}]);