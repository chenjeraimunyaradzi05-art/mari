(()=>{var e={};e.id=1354,e.ids=[1354],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},32697:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(80440),t(22834),t(77972),t(10704),t(7629),t(11930),t(12523);var r=t(23191),a=t(88716),i=t(37922),n=t.n(i),l=t(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["dashboard",{children:["settings",{children:["security",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,80440)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\settings\\security\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22834)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,77972)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,10704)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\not-found.tsx"]}],o=["C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\settings\\security\\page.tsx"],x="/dashboard/settings/security/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/settings/security/page",pathname:"/dashboard/settings/security",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3606:(e,s,t)=>{Promise.resolve().then(t.bind(t,54150))},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},91216:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},77636:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},54150:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(10326),a=t(17577),i=t(74723),n=t(76557);let l=(0,n.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);var d=t(91216),c=t(12714);let o=(0,n.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var x=t(37202),m=t(2634),u=t(77636),p=t(48998),h=t(90422),g=t(44976),y=t(20108),j=t(10119),f=t(18069),v=t(51223),b=t(40381);function w(){let{user:e,logout:s}=(0,h.aC)(),t=(0,g.NL)(),[n,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[P,q]=(0,a.useState)(!1),[Z,C]=(0,a.useState)(!1),{register:D,handleSubmit:S,formState:{errors:A},reset:_,watch:U}=(0,i.cI)(),M=U("newPassword"),{data:O}=(0,y.a)({queryKey:["sessions"],queryFn:()=>f.hi.get("/auth/sessions"),select:e=>e.data.data}),E=(0,j.D)({mutationFn:e=>f.hi.post("/auth/change-password",e),onSuccess:()=>{b.ZP.success("Password changed successfully"),_()},onError:e=>{b.ZP.error(e.response?.data?.message||"Failed to change password")}}),F=(0,j.D)({mutationFn:e=>f.hi.delete(`/auth/sessions/${e}`),onSuccess:()=>{t.invalidateQueries({queryKey:["sessions"]}),b.ZP.success("Session revoked")},onError:()=>{b.ZP.error("Failed to revoke session")}}),T=(0,j.D)({mutationFn:()=>f.hi.delete("/auth/sessions"),onSuccess:()=>{b.ZP.success("All sessions revoked. Please log in again."),s()},onError:()=>{b.ZP.error("Failed to revoke sessions")}});return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Security Settings"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage your password and account security"})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-6",children:[r.jsx("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/30 rounded-lg",children:r.jsx(l,{className:"w-5 h-5 text-primary-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Change Password"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Update your password to keep your account secure"})]})]}),(0,r.jsxs)("form",{onSubmit:S(e=>{E.mutate({currentPassword:e.currentPassword,newPassword:e.newPassword})}),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:n?"text":"password",...D("currentPassword",{required:"Current password is required"}),className:"input w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>w(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?r.jsx(d.Z,{className:"w-4 h-4"}):r.jsx(c.Z,{className:"w-4 h-4"})})]}),A.currentPassword&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:A.currentPassword.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:N?"text":"password",...D("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain uppercase, lowercase, and number"}}),className:"input w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>k(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:N?r.jsx(d.Z,{className:"w-4 h-4"}):r.jsx(c.Z,{className:"w-4 h-4"})})]}),A.newPassword&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:A.newPassword.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:P?"text":"password",...D("confirmPassword",{required:"Please confirm your password",validate:e=>e===M||"Passwords do not match"}),className:"input w-full pr-10"}),r.jsx("button",{type:"button",onClick:()=>q(!P),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:P?r.jsx(d.Z,{className:"w-4 h-4"}):r.jsx(c.Z,{className:"w-4 h-4"})})]}),A.confirmPassword&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:A.confirmPassword.message})]}),r.jsx("button",{type:"submit",disabled:E.isPending,className:"btn-primary px-4 py-2",children:E.isPending?"Updating...":"Update Password"})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/30 rounded-lg",children:r.jsx(o,{className:"w-5 h-5 text-primary-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add an extra layer of security to your account"})]})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Z,onChange:()=>C(!Z),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),Z&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-700 dark:text-yellow-400",children:[r.jsx(x.Z,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Setup required"})]}),r.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-500 mt-1",children:"Two-factor authentication setup will be available soon."})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/30 rounded-lg",children:r.jsx(m.Z,{className:"w-5 h-5 text-primary-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Active Sessions"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your active sessions across devices"})]})]}),r.jsx("button",{onClick:()=>{confirm("This will log you out of all devices. Continue?")&&T.mutate()},className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Sign out all devices"})]}),r.jsx("div",{className:"space-y-4",children:O?.length>0?O.map(e=>(0,r.jsxs)("div",{className:"flex items-start justify-between p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(m.Z,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[e.device||"Unknown Device",e.isCurrent&&r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full",children:"Current"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 mt-1 text-sm text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(u.Z,{className:"w-3 h-3 mr-1"}),e.location||"Unknown location"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(p.Z,{className:"w-3 h-3 mr-1"}),(0,v.p6)(e.lastActive)]})]})]})]}),!e.isCurrent&&r.jsx("button",{onClick:()=>F.mutate(e.id),className:"text-sm text-red-600 hover:text-red-700",children:"Revoke"})]},e.id)):r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(m.Z,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["This Device",r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full",children:"Current"})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Active now"})]})]})})})]}),(0,r.jsxs)("div",{className:"card border-red-200 dark:border-red-900/50",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[r.jsx("div",{className:"p-2 bg-red-50 dark:bg-red-900/30 rounded-lg",children:r.jsx(x.Z,{className:"w-5 h-5 text-red-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Danger Zone"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Irreversible and destructive actions"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Delete Account"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Permanently delete your account and all data"})]}),r.jsx("button",{className:"btn bg-red-600 text-white hover:bg-red-700 px-4 py-2",children:"Delete Account"})]})]})]})}},80440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\mutir\OneDrive\Desktop\mari\athena-platform\client\src\app\dashboard\settings\security\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[2145,108,8759,4723,9835,422,5877],()=>t(32697));module.exports=r})();