(()=>{var e={};e.id=6535,e.ids=[6535],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},90950:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>o,routeModule:()=>u,tree:()=>c}),r(10586),r(22834),r(77972),r(10704),r(7629),r(11930),r(12523);var a=r(23191),s=r(88716),i=r(37922),l=r.n(i),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let c=["",{children:["dashboard",{children:["finance",{children:["insurance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,10586)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\finance\\insurance\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22834)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,77972)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,10704)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\not-found.tsx"]}],o=["C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\finance\\insurance\\page.tsx"],p="/dashboard/finance/insurance/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/finance/insurance/page",pathname:"/dashboard/finance/insurance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},25277:(e,t,r)=>{Promise.resolve().then(r.bind(r,87770))},75290:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},87770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(10326),s=r(17577),i=r(90434),l=r(58038),n=r(75290),d=r(32933),c=r(18069),o=r(51223);let p=[{value:"ALL",label:"All types"},{value:"LIFE",label:"Life"},{value:"INCOME_PROTECTION",label:"Income protection"},{value:"HEALTH",label:"Health"},{value:"DISABILITY",label:"Disability"},{value:"RENTERS",label:"Renters"}],x={PENDING:"bg-yellow-50 text-yellow-700",UNDER_REVIEW:"bg-blue-50 text-blue-700",APPROVED:"bg-emerald-50 text-emerald-700",REJECTED:"bg-red-50 text-red-700",ACTIVE:"bg-emerald-50 text-emerald-700",CANCELLED:"bg-gray-100 text-gray-600"};function u(){let[e,t]=(0,s.useState)([]),[r,u]=(0,s.useState)([]),[m,h]=(0,s.useState)("ALL"),[g,y]=(0,s.useState)(!0),[b,j]=(0,s.useState)(null),[v,f]=(0,s.useState)(null),N=async()=>{y(!0),f(null);try{let[e,r]=await Promise.all([c.o.getInsuranceProducts("ALL"===m?void 0:{type:m}),c.o.getMyInsuranceApplications()]);t(e.data?.data||[]),u(r.data?.data||[])}catch(e){f(e?.response?.data?.error||"Failed to load insurance information.")}finally{y(!1)}},k=async e=>{j(e),f(null);try{await c.o.applyForInsurance(e),await N()}catch(e){f(e?.response?.data?.error||"Unable to submit application.")}finally{j(null)}},w=e=>{if(null==e)return 0;let t=Number(e);return Number.isFinite(t)?t:0};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600",children:[a.jsx(l.Z,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Insurance"})]}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-2",children:"Protect your future"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Compare insurance options and apply online"})]}),v&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:v}),r.length>0&&(0,a.jsxs)("section",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"My applications"}),a.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 text-left text-gray-500 dark:text-gray-400",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Product"}),a.jsx("th",{className:"px-4 py-3",children:"Type"}),a.jsx("th",{className:"px-4 py-3",children:"Applied"}),a.jsx("th",{className:"px-4 py-3",children:"Status"}),a.jsx("th",{className:"px-4 py-3",children:"Policy #"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:r.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white",children:e.product.name}),a.jsx("td",{className:"px-4 py-3 capitalize",children:e.product.type.replace("_"," ").toLowerCase()}),a.jsx("td",{className:"px-4 py-3",children:(0,o.p6)(e.appliedAt)}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${x[e.status]||"bg-gray-100 text-gray-600"}`,children:e.status.replace("_"," ")})}),a.jsx("td",{className:"px-4 py-3 text-gray-500",children:e.policyNumber||"-"})]},e.id))})]})})]}),(0,a.jsxs)("section",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Compare products"}),a.jsx("select",{value:m,onChange:e=>h(e.target.value),className:"bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm",children:p.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),g?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(n.Z,{className:"w-4 h-4 animate-spin"}),"Loading products..."]}):0===e.length?a.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 text-sm text-gray-500 text-center",children:"No insurance products available in this category."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 flex flex-col gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:e.type.replace("_"," ")}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mt-1",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.provider})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.description}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:"Monthly premium"}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:(0,o.xG)(w(e.monthlyPremium))})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:"Coverage"}),a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:(0,o.xG)(w(e.coverageAmount))})]})]}),e.features&&e.features.length>0&&a.jsx("ul",{className:"text-sm space-y-1",children:e.features.slice(0,4).map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[a.jsx(d.Z,{className:"w-4 h-4 text-emerald-500"}),e]},t))}),a.jsx("div",{className:"mt-auto",children:r.some(t=>t.product&&t.product.name===e.name&&!["REJECTED","CANCELLED"].includes(t.status))?a.jsx("button",{disabled:!0,className:"w-full btn-secondary opacity-50",children:"Already applied"}):a.jsx("button",{onClick:()=>k(e.id),disabled:!e.eligible||b===e.id,className:"w-full btn-primary disabled:opacity-50",children:b===e.id?"Applying...":e.eligible?"Apply now":"Not eligible"})})]},e.id))}),a.jsx("div",{className:"text-center",children:a.jsx(i.default,{href:"/dashboard/finance",className:"text-sm text-primary-600 hover:underline",children:"â† Back to Finance Hub"})})]})}},10586:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`C:\Users\mutir\OneDrive\Desktop\mari\athena-platform\client\src\app\dashboard\finance\insurance\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[2145,108,8759,9835,422,5877],()=>r(90950));module.exports=a})();