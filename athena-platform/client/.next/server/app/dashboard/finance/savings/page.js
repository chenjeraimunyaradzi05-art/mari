(()=>{var e={};e.id=5436,e.ids=[5436],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},97938:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),t(56596),t(22834),t(77972),t(10704),t(7629),t(11930),t(12523);var a=t(23191),s=t(88716),l=t(37922),n=t.n(l),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let o=["",{children:["dashboard",{children:["finance",{children:["savings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,56596)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\finance\\savings\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22834)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,77972)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,10704)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\finance\\savings\\page.tsx"],u="/dashboard/finance/savings/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/finance/savings/page",pathname:"/dashboard/finance/savings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},10857:(e,r,t)=>{Promise.resolve().then(t.bind(t,22889))},75290:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},65842:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]])},83855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},53468:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},17069:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},22889:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(10326),s=t(17577),l=t(90434),n=t(65842),i=t(83855),d=t(75290),o=t(53468),c=t(17069),u=t(18069),p=t(51223);let m=[{value:"EMERGENCY_FUND",label:"Emergency fund"},{value:"HOME_DEPOSIT",label:"Home deposit"},{value:"EDUCATION",label:"Education"},{value:"BUSINESS",label:"Business"},{value:"TRAVEL",label:"Travel"},{value:"OTHER",label:"Other"}],x=e=>{if(null==e)return 0;let r=Number(e);return Number.isFinite(r)?r:0};function g(){let[e,r]=(0,s.useState)([]),[t,g]=(0,s.useState)(!0),[h,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(null),[f,N]=(0,s.useState)(""),[j,k]=(0,s.useState)(null),[w,C]=(0,s.useState)(!1),[D,P]=(0,s.useState)(""),[q,E]=(0,s.useState)("EMERGENCY_FUND"),[S,_]=(0,s.useState)(""),[M,O]=(0,s.useState)(""),[U,Z]=(0,s.useState)(""),T=async()=>{g(!0),k(null);try{let e=await u.o.getSavingsGoals();r(e.data?.data||[])}catch(e){k(e?.response?.data?.error||"Failed to load savings goals."),r([])}finally{g(!1)}},A=async()=>{if(!D.trim()||!S){k("Name and target amount are required.");return}b(!0),k(null);try{await u.o.createSavingsGoal({name:D.trim(),type:q,targetAmount:Number(S),targetDate:M||void 0,monthlyTarget:U?Number(U):void 0}),P(""),_(""),O(""),Z(""),C(!1),await T()}catch(e){k(e?.response?.data?.error||"Unable to create goal.")}finally{b(!1)}},G=async e=>{if(!f||0>=Number(f)){k("Please enter a valid amount.");return}b(!0),k(null);try{await u.o.contributeTo(e,{amount:Number(f)}),v(null),N(""),await T()}catch(e){k(e?.response?.data?.error||"Unable to add contribution.")}finally{b(!1)}},B=e.reduce((e,r)=>e+x(r.currentAmount),0);return(0,a.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600",children:[a.jsx(n.Z,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Savings"})]}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-2",children:"Build your financial safety net"}),(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Total saved: ",(0,p.xG)(B)]})]}),(0,a.jsxs)("button",{onClick:()=>C(!w),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(i.Z,{className:"w-4 h-4"})," New goal"]})]}),w&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create savings goal"}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx("input",{value:D,onChange:e=>P(e.target.value),placeholder:"Goal name",className:"w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm"}),a.jsx("select",{value:q,onChange:e=>E(e.target.value),className:"w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm",children:m.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))}),a.jsx("input",{value:S,onChange:e=>_(e.target.value),type:"number",placeholder:"Target amount ($)",className:"w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm"}),a.jsx("input",{value:M,onChange:e=>O(e.target.value),type:"date",className:"w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm"}),a.jsx("input",{value:U,onChange:e=>Z(e.target.value),type:"number",placeholder:"Monthly target (optional)",className:"w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:A,disabled:h,className:"btn-primary",children:h?"Creating...":"Create goal"}),a.jsx("button",{onClick:()=>C(!1),className:"btn-secondary",children:"Cancel"})]})]}),j&&a.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:j}),t?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(d.Z,{className:"w-4 h-4 animate-spin"}),"Loading goals..."]}):0===e.length?a.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 text-sm text-gray-500 text-center",children:"No savings goals yet. Create one to start tracking your progress!"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>{let r=x(e.currentAmount),t=x(e.targetAmount),s=e.progressPct??(t>0?Math.round(r/t*100):0);return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-5 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.type.replace("_"," ")})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${"COMPLETED"===e.status?"bg-emerald-50 text-emerald-700":"bg-primary-50 text-primary-700"}`,children:e.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,a.jsxs)("span",{children:[(0,p.xG)(r)," saved"]}),(0,a.jsxs)("span",{className:"text-gray-500",children:["of ",(0,p.xG)(t)]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-emerald-500 h-3 rounded-full transition-all",style:{width:`${Math.min(s,100)}%`}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[s,"% complete"]})]}),e.targetDate&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(o.Z,{className:"w-3 h-3"})," Target date: ",(0,p.p6)(e.targetDate)]}),y===e.id?(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{value:f,onChange:e=>N(e.target.value),type:"number",placeholder:"Amount",className:"flex-1 bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm"}),a.jsx("button",{onClick:()=>G(e.id),disabled:h,className:"btn-primary",children:h?"...":"Add"}),a.jsx("button",{onClick:()=>v(null),className:"btn-secondary",children:"Cancel"})]}):(0,a.jsxs)("button",{onClick:()=>v(e.id),className:"btn-secondary w-full inline-flex items-center justify-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4"})," Add contribution"]})]},e.id)})}),a.jsx("div",{className:"text-center",children:a.jsx(l.default,{href:"/dashboard/finance",className:"text-sm text-primary-600 hover:underline",children:"â† Back to Finance Hub"})})]})}},56596:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\mutir\OneDrive\Desktop\mari\athena-platform\client\src\app\dashboard\finance\savings\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[2145,108,8759,9835,422,5877],()=>t(97938));module.exports=a})();