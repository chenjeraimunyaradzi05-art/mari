(()=>{var e={};e.id=9871,e.ids=[9871],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},13200:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),t(36211),t(22834),t(77972),t(10704),t(7629),t(11930),t(12523);var s=t(23191),a=t(88716),i=t(37922),l=t.n(i),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let o=["",{children:["dashboard",{children:["impact",{children:["programs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,36211)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\impact\\programs\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22834)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,77972)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,10704)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\dashboard\\impact\\programs\\page.tsx"],m="/dashboard/impact/programs/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/impact/programs/page",pathname:"/dashboard/impact/programs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},93376:(e,r,t)=>{Promise.resolve().then(t.bind(t,73013))},54659:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},75290:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53468:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},73013:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(10326),a=t(17577),i=t(90434),l=t(24061),n=t(54659),d=t(48998),o=t(75290),c=t(53468),m=t(18069);let p={FIRST_NATIONS:"First Nations",REFUGEE_IMMIGRANT:"Refugee & Immigrant",DV_SURVIVOR:"DV Survivor",DISABILITY:"Disability",LGBTQIA:"LGBTQIA+",SINGLE_PARENT:"Single Parent",RURAL_REGIONAL:"Rural & Regional",GENERAL:"General"},x={ACTIVE:"bg-emerald-50 text-emerald-700",COMPLETED:"bg-blue-50 text-blue-700",PAUSED:"bg-yellow-50 text-yellow-700",CANCELLED:"bg-gray-100 text-gray-600"};function u(){let[e,r]=(0,a.useState)([]),[t,u]=(0,a.useState)([]),[g,h]=(0,a.useState)(!0),[y,b]=(0,a.useState)(null),[j,v]=(0,a.useState)(""),[f,N]=(0,a.useState)(null),k=async()=>{h(!0),N(null);try{let[e,t]=await Promise.all([m.XA.getPrograms({communityType:j||void 0}),m.XA.getMyEnrollments()]);r(e.data?.data||[]),u(t.data?.data||[])}catch(e){N(e?.response?.data?.error||"Failed to load programs")}finally{h(!1)}},P=async e=>{b(e),N(null);try{await m.XA.enrollInProgram(e),await k()}catch(e){N(e?.response?.data?.error||"Failed to enroll")}finally{b(null)}},w=t.map(e=>e.program.id);return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-purple-600",children:[s.jsx(l.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Support Programs"})]}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-2",children:"Community Support Programs"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Tailored programs to help you achieve your goals"})]}),f&&s.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:f}),t.length>0&&(0,s.jsxs)("section",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"My Enrollments"}),s.jsx("div",{className:"space-y-4",children:t.map(e=>{let r=e.milestoneProgress.filter(e=>e.isCompleted).length,t=e.program.milestones.length,a=t>0?Math.round(r/t*100):0;return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-5",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.program.name}),s.jsx("p",{className:"text-xs text-gray-500",children:p[e.program.communityType]||e.program.communityType})]}),s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full self-start ${x[e.status]}`,children:e.status})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,s.jsxs)("span",{children:[r," of ",t," milestones"]}),(0,s.jsxs)("span",{className:"text-gray-500",children:[a,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all",style:{width:`${a}%`}})})]}),e.program.milestones.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:e.program.milestones.slice(0,3).map(r=>{let t=e.milestoneProgress.some(e=>e.milestoneId===r.id&&e.isCompleted);return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t?s.jsx(n.Z,{className:"w-4 h-4 text-emerald-500"}):s.jsx(d.Z,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:t?"text-gray-500 line-through":"text-gray-700 dark:text-gray-300",children:r.title})]},r.id)})})]},e.id)})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filter by community:"}),(0,s.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2 text-sm",children:[s.jsx("option",{value:"",children:"All communities"}),Object.entries(p).map(([e,r])=>s.jsx("option",{value:e,children:r},e))]})]}),g?(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(o.Z,{className:"w-4 h-4 animate-spin"}),"Loading programs..."]}):0===e.length?s.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 text-center text-sm text-gray-500",children:"No programs available in this category."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>{let r=w.includes(e.id),t=e.maxParticipants&&e.currentParticipants>=e.maxParticipants;return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-xs text-purple-600 font-medium",children:p[e.communityType]||e.communityType}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mt-1",children:e.name})]}),e.maxParticipants&&(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[e.currentParticipants,"/",e.maxParticipants]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:e.description}),e.objectives.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-2 flex items-center gap-1",children:[s.jsx(c.Z,{className:"w-3 h-3"})," Objectives"]}),s.jsx("ul",{className:"text-sm space-y-1",children:e.objectives.slice(0,3).map((e,r)=>(0,s.jsxs)("li",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-purple-500",children:"•"})," ",e]},r))})]}),e.partnerOrgs.length>0&&s.jsx("div",{className:"mb-4 flex flex-wrap gap-1",children:e.partnerOrgs.slice(0,3).map((e,r)=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-full text-gray-600 dark:text-gray-400",children:e},r))}),s.jsx("div",{className:"mt-auto",children:r?s.jsx("button",{disabled:!0,className:"w-full btn-secondary opacity-50",children:"Already enrolled"}):t?s.jsx("button",{disabled:!0,className:"w-full btn-secondary opacity-50",children:"Program full"}):s.jsx("button",{onClick:()=>P(e.id),disabled:y===e.id,className:"w-full btn-primary",children:y===e.id?"Enrolling...":"Enroll now"})})]},e.id)})}),s.jsx("div",{className:"text-center",children:s.jsx(i.default,{href:"/dashboard/impact",className:"text-sm text-primary-600 hover:underline",children:"← Back to Impact Hub"})})]})}},36211:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\Users\mutir\OneDrive\Desktop\mari\athena-platform\client\src\app\dashboard\impact\programs\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[2145,108,8759,9835,422,5877],()=>t(13200));module.exports=s})();