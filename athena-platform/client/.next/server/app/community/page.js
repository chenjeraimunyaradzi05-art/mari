(()=>{var e={};e.id=4616,e.ids=[4616],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},28403:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(2889),t(10704),t(7629),t(11930),t(12523);var a=t(23191),s=t(88716),i=t(37922),l=t.n(i),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(r,c);let o=["",{children:["community",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2889)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\community\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,10704)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\mutir\\OneDrive\\Desktop\\mari\\athena-platform\\client\\src\\app\\community\\page.tsx"],m="/community/page",h={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/community/page",pathname:"/community",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},81255:(e,r,t)=>{Promise.resolve().then(t.bind(t,97719))},941:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},39183:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},75290:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9015:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},49216:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},56418:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},85206:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},81466:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]])},83855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69436:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},98091:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},35047:(e,r,t)=>{"use strict";var a=t(77389);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},97719:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>R});var a=t(10326),s=t(17577),i=t(35047),l=t(9015),n=t(76557);let c=(0,n.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var o=t(83855),d=t(88307),m=t(941),h=t(39183);let p=(0,n.Z)("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var x=t(51223),g=t(91664),u=t(41190),y=t(3594);function v({channels:e,activeChannelId:r,onChannelSelect:t,onCreateChannel:i,onSearchClick:n}){let[p,x]=(0,s.useState)({channels:!0,directMessages:!0}),[v,k]=(0,s.useState)(""),f=e.filter(e=>"public"===e.type),j=e.filter(e=>"private"===e.type),N=e.filter(e=>"direct"===e.type),w=e=>e.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())),C=e=>{x(r=>({...r,[e]:!r[e]}))},$=e=>"direct"===e.type?a.jsx(y.qE,{src:e.icon,fallback:e.name[0],size:"sm"}):"private"===e.type?a.jsx(l.Z,{className:"w-4 h-4 text-gray-500"}):a.jsx(c,{className:"w-4 h-4 text-gray-500"});return(0,a.jsxs)("div",{className:"w-64 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Community"}),a.jsx(g.z,{variant:"ghost",size:"icon",onClick:i,children:a.jsx(o.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(u.I,{placeholder:"Search channels...",value:v,onChange:e=>k(e.target.value),className:"pl-9 h-8 text-sm"})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto py-2",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("button",{onClick:()=>C("channels"),className:"w-full flex items-center px-4 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider hover:text-gray-700 dark:hover:text-gray-200",children:[p.channels?a.jsx(m.Z,{className:"w-3 h-3 mr-1"}):a.jsx(h.Z,{className:"w-3 h-3 mr-1"}),"Channels"]}),p.channels&&a.jsx("div",{className:"mt-1 space-y-0.5",children:w([...f,...j]).map(e=>a.jsx(b,{channel:e,isActive:e.id===r,onClick:()=>t(e.id),icon:$(e)},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>C("directMessages"),className:"w-full flex items-center px-4 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider hover:text-gray-700 dark:hover:text-gray-200",children:[p.directMessages?a.jsx(m.Z,{className:"w-3 h-3 mr-1"}):a.jsx(h.Z,{className:"w-3 h-3 mr-1"}),"Direct Messages"]}),p.directMessages&&a.jsx("div",{className:"mt-1 space-y-0.5",children:w(N).map(e=>a.jsx(b,{channel:e,isActive:e.id===r,onClick:()=>t(e.id),icon:$(e)},e.id))})]})]}),a.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-800",children:(0,a.jsxs)(g.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:i,children:[a.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Create Channel"]})})]})}function b({channel:e,isActive:r,onClick:t,icon:s}){return(0,a.jsxs)("button",{onClick:t,className:(0,x.cn)("w-full flex items-center gap-2 px-4 py-1.5 text-sm transition-colors",r?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a.jsx("span",{className:"flex-shrink-0",children:s}),a.jsx("span",{className:"flex-1 truncate text-left",children:e.name}),e.unreadCount>0&&a.jsx("span",{className:"flex-shrink-0 bg-primary-500 text-white text-xs font-medium px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center",children:e.unreadCount>99?"99+":e.unreadCount}),e.isMuted&&a.jsx(p,{className:"w-3 h-3 text-gray-400 flex-shrink-0"})]})}var k=t(81466),f=t(49216),j=t(56418);let N=(0,n.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);var w=t(85206),C=t(98091);let $=(0,n.Z)("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),D=(0,n.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var S=t(69436);function M({channelName:e,channelType:r,messages:t,currentUserId:i,onSendMessage:l,onEditMessage:n,onDeleteMessage:c,onReaction:o,onPinMessage:d,onLoadMore:m,hasMore:h,isLoading:p,typingUsers:u=[]}){let v=(0,s.useRef)(null),b=(0,s.useRef)(null),[M,P]=(0,s.useState)(""),[Z,q]=(0,s.useState)(null),[z,R]=(0,s.useState)(""),[A,O]=(0,s.useState)(null),E=(0,s.useCallback)(()=>{let e=b.current;e&&h&&!p&&0===e.scrollTop&&m?.()},[h,p,m]),_=e=>{z.trim()&&(n(e,z.trim()),q(null),R(""))},T=e=>{q(e.id),R(e.content)},F=()=>{q(null),R("")},L=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),I=e=>{let r=new Date(e),t=new Date,a=new Date(t);return(a.setDate(a.getDate()-1),r.toDateString()===t.toDateString())?"Today":r.toDateString()===a.toDateString()?"Yesterday":r.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})},U=(e=>{let r={};return e.forEach(e=>{let t=new Date(e.createdAt).toDateString();r[t]||(r[t]=[]),r[t].push(e)}),r})(t),V=["\uD83D\uDC4D","❤️","\uD83D\uDE02","\uD83D\uDE2E","\uD83D\uDE22","\uD83C\uDF89"];return(0,a.jsxs)("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-950 h-full",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-500",children:"public"===r?"#":"private"===r?"\uD83D\uDD12":""}),a.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:e})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(g.z,{variant:"ghost",size:"icon",children:a.jsx(k.Z,{className:"w-4 h-4"})}),a.jsx(g.z,{variant:"ghost",size:"icon",children:a.jsx(f.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{ref:b,onScroll:E,className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[Object.entries(U).map(([e,r])=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 my-4",children:[a.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-800"}),a.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:I(e)}),a.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-800"})]}),r.map((e,t)=>{let s=e.author.id===i,l=0===t||r[t-1].author.id!==e.author.id;return(0,a.jsxs)("div",{className:(0,x.cn)("group relative flex gap-3 py-1 px-2 -mx-2 rounded-lg transition-colors",A===e.id&&"bg-gray-50 dark:bg-gray-900"),onMouseEnter:()=>O(e.id),onMouseLeave:()=>O(null),children:[a.jsx("div",{className:"w-10 flex-shrink-0",children:l&&a.jsx(y.qE,{src:e.author.avatarUrl,fallback:`${e.author.firstName[0]}${e.author.lastName[0]}`,size:"sm"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[l&&(0,a.jsxs)("div",{className:"flex items-baseline gap-2 mb-0.5",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.author.firstName," ",e.author.lastName]}),a.jsx("span",{className:"text-xs text-gray-500",children:L(e.createdAt)}),e.editedAt&&a.jsx("span",{className:"text-xs text-gray-400",children:"(edited)"})]}),e.replyTo&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-100 dark:bg-gray-800 rounded px-2 py-1 mb-1 border-l-2 border-primary-500",children:[(0,a.jsxs)("span",{className:"font-medium",children:[e.replyTo.authorName,":"]})," ",e.replyTo.content.slice(0,50),"..."]}),Z===e.id?(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:z,onChange:e=>R(e.target.value),onKeyDown:r=>{"Enter"===r.key&&_(e.id),"Escape"===r.key&&F()},className:"flex-1 px-3 py-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",autoFocus:!0}),a.jsx(g.z,{size:"sm",onClick:()=>_(e.id),children:"Save"}),a.jsx(g.z,{size:"sm",variant:"ghost",onClick:F,children:"Cancel"})]}):a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-words",children:e.content}),e.attachments&&e.attachments.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.attachments.map(e=>(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-500 hover:underline flex items-center gap-1",children:[a.jsx(j.Z,{className:"w-3 h-3"}),e.name]},e.id))}),e.reactions&&e.reactions.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.reactions.map(r=>(0,a.jsxs)("button",{onClick:()=>o(e.id,r.emoji),className:(0,x.cn)("inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs",r.hasReacted?"bg-primary-100 dark:bg-primary-900 border border-primary-300 dark:border-primary-700":"bg-gray-100 dark:bg-gray-800 border border-transparent"),children:[a.jsx("span",{children:r.emoji}),a.jsx("span",{children:r.count})]},r.emoji))}),e.isPinned&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1 text-xs text-amber-600 dark:text-amber-400",children:[a.jsx(k.Z,{className:"w-3 h-3"}),a.jsx("span",{children:"Pinned"})]})]}),A===e.id&&Z!==e.id&&(0,a.jsxs)("div",{className:"absolute top-0 right-2 -translate-y-1/2 flex items-center gap-0.5 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm",children:[V.slice(0,3).map(r=>a.jsx("button",{onClick:()=>o(e.id,r),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:r},r)),a.jsx("button",{className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:a.jsx(N,{className:"w-4 h-4 text-gray-500"})}),s&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>T(e),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:a.jsx(w.Z,{className:"w-4 h-4 text-gray-500"})}),a.jsx("button",{onClick:()=>c(e.id),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:a.jsx(C.Z,{className:"w-4 h-4 text-red-500"})})]}),a.jsx("button",{onClick:()=>d(e.id),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:a.jsx(k.Z,{className:(0,x.cn)("w-4 h-4",e.isPinned?"text-amber-500":"text-gray-500")})})]})]},e.id)})]},e)),a.jsx("div",{ref:v})]}),u.length>0&&(0,a.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-500",children:[u.join(", ")," ",1===u.length?"is":"are"," typing..."]}),a.jsx("form",{onSubmit:e=>{e.preventDefault(),M.trim()&&(l(M.trim()),P(""))},className:"p-4 border-t border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-900 rounded-lg px-3 py-2",children:[a.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(j.Z,{className:"w-5 h-5"})}),a.jsx("input",{type:"text",value:M,onChange:e=>P(e.target.value),placeholder:`Message #${e}`,className:"flex-1 bg-transparent outline-none text-gray-900 dark:text-white placeholder-gray-500"}),a.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx($,{className:"w-5 h-5"})}),a.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:a.jsx(D,{className:"w-5 h-5"})}),a.jsx(g.z,{type:"submit",size:"icon",disabled:!M.trim(),children:a.jsx(S.Z,{className:"w-4 h-4"})})]})})]})}var P=t(92753);function Z({isOpen:e,onClose:r,onCreate:t}){let[i,n]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[m,h]=(0,s.useState)("public"),[p,y]=(0,s.useState)("");return a.jsx(P.u_,{isOpen:e,onClose:r,title:"Create a Channel",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i.trim()){y("Channel name is required");return}if(i.length<2){y("Channel name must be at least 2 characters");return}if(!/^[a-z0-9-]+$/.test(i.toLowerCase().replace(/\s/g,"-"))){y("Channel name can only contain letters, numbers, and hyphens");return}t({name:i.toLowerCase().replace(/\s+/g,"-"),description:o,type:m}),n(""),d(""),h("public"),y(""),r()},className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Channels are where your community communicates. They're best when organized around a topic."}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Channel Type"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>h("public"),className:(0,x.cn)("flex items-center gap-3 p-3 rounded-lg border-2 transition-colors","public"===m?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[a.jsx(c,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Public"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Anyone can join"})]})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>h("private"),className:(0,x.cn)("flex items-center gap-3 p-3 rounded-lg border-2 transition-colors","private"===m?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[a.jsx(l.Z,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Private"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Invite only"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Channel Name"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"public"===m?"#":"\uD83D\uDD12"}),a.jsx(u.I,{value:i,onChange:e=>{n(e.target.value),y("")},placeholder:"e.g. career-advice",className:"pl-8",error:p})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Description ",a.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),a.jsx("textarea",{value:o,onChange:e=>d(e.target.value),placeholder:"What's this channel about?",rows:3,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(g.z,{type:"button",variant:"ghost",onClick:r,children:"Cancel"}),a.jsx(g.z,{type:"submit",children:"Create Channel"})]})]})})}var q=t(68821),z=t(75290);function R(){(0,i.useRouter)();let[e,r]=(0,s.useState)([]),[t,l]=(0,s.useState)(null),[n,c]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[m,h]=(0,s.useState)(!1),[p,x]=(0,s.useState)(!1),[g,u]=(0,s.useState)(""),y=async e=>{if(t)try{let r=await q.Pr.sendMessage(t,{content:e}),a=r.data.data?.message;a&&c(e=>[...e,a])}catch(e){console.error("Failed to send message:",e)}},b=async(e,r)=>{if(t)try{await q.Pr.editMessage(t,e,r),c(t=>t.map(t=>t.id===e?{...t,content:r,editedAt:new Date().toISOString()}:t))}catch(e){console.error("Failed to edit message:",e)}},k=async e=>{if(t)try{await q.Pr.deleteMessage(t,e),c(r=>r.filter(r=>r.id!==e))}catch(e){console.error("Failed to delete message:",e)}},f=async(e,r)=>{if(t)try{let a=n.find(r=>r.id===e),s=a?.reactions?.find(e=>e.emoji===r);s?.hasReacted?await q.Pr.removeReaction(t,e,r):await q.Pr.addReaction(t,e,r),c(t=>t.map(t=>{if(t.id!==e)return t;let a=[...t.reactions||[]],s=a.findIndex(e=>e.emoji===r);return s>=0?a[s].hasReacted?(a[s]={...a[s],count:a[s].count-1,hasReacted:!1},0===a[s].count&&a.splice(s,1)):a[s]={...a[s],count:a[s].count+1,hasReacted:!0}:a.push({emoji:r,count:1,hasReacted:!0}),{...t,reactions:a}}))}catch(e){console.error("Failed to toggle reaction:",e)}},j=async e=>{if(t)try{let r=n.find(r=>r.id===e);r?.isPinned?await q.Pr.unpinMessage(t,e):await q.Pr.pinMessage(t,e),c(r=>r.map(r=>r.id===e?{...r,isPinned:!r.isPinned}:r))}catch(e){console.error("Failed to toggle pin:",e)}},N=async e=>{try{let t=await q.Pr.create(e),a=t.data.data?.channel;a&&(r(e=>[...e,a]),l(a.id))}catch(e){console.error("Failed to create channel:",e)}},w=e.find(e=>e.id===t);return o?a.jsx("div",{className:"h-screen flex items-center justify-center",children:a.jsx(z.Z,{className:"w-8 h-8 animate-spin text-primary-500"})}):(0,a.jsxs)("div",{className:"h-screen flex",children:[a.jsx(v,{channels:e,activeChannelId:t||void 0,onChannelSelect:l,onCreateChannel:()=>x(!0)}),w?a.jsx(M,{channelName:w.name,channelType:w.type,messages:n,currentUserId:g,onSendMessage:y,onEditMessage:b,onDeleteMessage:k,onReaction:f,onPinMessage:j,isLoading:m}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-950",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Welcome to Athena Community"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Select a channel to start chatting or create a new one"}),a.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Create Channel"})]})}),a.jsx(Z,{isOpen:p,onClose:()=>x(!1),onCreate:N})]})}},3594:(e,r,t)=>{"use strict";t.d(r,{qE:()=>c});var a=t(10326),s=t(17577),i=t(51223);let l={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},n={xs:"w-1.5 h-1.5 border",sm:"w-2 h-2 border",md:"w-2.5 h-2.5 border-2",lg:"w-3 h-3 border-2",xl:"w-4 h-4 border-2"},c=s.forwardRef(({src:e,alt:r="Avatar",fallback:t="?",size:s="md",className:c,online:o,children:d,...m},h)=>d?(0,a.jsxs)("div",{ref:h,className:(0,i.cn)("relative flex shrink-0 overflow-hidden rounded-full",l[s],c),...m,children:[d,void 0!==o&&a.jsx("span",{className:(0,i.cn)("absolute bottom-0 right-0 rounded-full border-white dark:border-gray-900",o?"bg-green-500":"bg-gray-400",n[s])})]}):(0,a.jsxs)("div",{ref:h,className:(0,i.cn)("relative inline-block",c),...m,children:[e?a.jsx("img",{src:e,alt:r,className:(0,i.cn)("rounded-full object-cover",l[s])}):a.jsx("div",{className:(0,i.cn)("rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-600 font-semibold",l[s]),children:t}),void 0!==o&&a.jsx("span",{className:(0,i.cn)("absolute bottom-0 right-0 rounded-full border-white dark:border-gray-900",o?"bg-green-500":"bg-gray-400",n[s])})]}));c.displayName="Avatar",s.forwardRef(({className:e,src:r,alt:t,onLoadingStatusChange:l,...n},c)=>{let[o,d]=s.useState("loading");return(s.useEffect(()=>{if(!r){d("error");return}d("loading")},[r]),"error"!==o&&r)?a.jsx("img",{ref:c,src:r,alt:t,onLoad:()=>{d("loaded"),l?.("loaded")},onError:()=>{d("error"),l?.("error")},className:(0,i.cn)("aspect-square h-full w-full object-cover",e),...n}):null}).displayName="AvatarImage",s.forwardRef(({className:e,children:r,delayMs:t,...l},n)=>{let[c,o]=s.useState(void 0===t);return(s.useEffect(()=>{if(void 0!==t){let e=setTimeout(()=>o(!0),t);return()=>clearTimeout(e)}},[t]),c)?a.jsx("span",{ref:n,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 font-medium",e),...l,children:r}):null}).displayName="AvatarFallback"},91664:(e,r,t)=>{"use strict";t.d(r,{d:()=>n,z:()=>c});var a=t(10326),s=t(17577),i=t(79360),l=t(51223);let n=(0,i.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",secondary:"bg-secondary-500 text-white hover:bg-secondary-600",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-950",ghost:"hover:bg-gray-100 dark:hover:bg-gray-800",link:"text-primary-500 underline-offset-4 hover:underline",destructive:"bg-red-500 text-white hover:bg-red-600"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:r,size:t,...s},i)=>a.jsx("button",{className:(0,l.cn)(n({variant:r,size:t,className:e})),ref:i,...s}));c.displayName="Button"},41190:(e,r,t)=>{"use strict";t.d(r,{I:()=>l});var a=t(10326),s=t(17577),i=t(51223);let l=s.forwardRef(({className:e,type:r,error:t,label:s,icon:l,...n},c)=>(0,a.jsxs)("div",{className:"w-full",children:[s&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s}),(0,a.jsxs)("div",{className:"relative",children:[l&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l}),a.jsx("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50",l&&"pl-10",t&&"border-red-500 focus:ring-red-500",e),ref:c,...n})]}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));l.displayName="Input"},92753:(e,r,t)=>{"use strict";t.d(r,{hz:()=>c,mz:()=>o,u_:()=>n});var a=t(10326);t(17577);var s=t(94019),i=t(51223);let l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};function n({isOpen:e,onClose:r,title:t,description:n,children:c,size:o="md",showCloseButton:d=!0,closeOnOverlayClick:m=!0}){return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:m?r:void 0}),a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:(0,i.cn)("relative w-full bg-white dark:bg-gray-900 rounded-xl shadow-xl transform transition-all",l[o]),onClick:e=>e.stopPropagation(),children:[(t||d)&&(0,a.jsxs)("div",{className:"flex items-start justify-between p-6 border-b border-gray-100 dark:border-gray-800",children:[(0,a.jsxs)("div",{children:[t&&a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t}),n&&a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n})]}),d&&a.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition",children:a.jsx(s.Z,{className:"w-5 h-5"})})]}),a.jsx("div",{className:(0,i.cn)(!t&&!d&&"pt-6"),children:c})]})})]}):null}function c({children:e,className:r}){return a.jsx("div",{className:(0,i.cn)("p-6",r),children:e})}function o({children:e,className:r}){return a.jsx("div",{className:(0,i.cn)("flex items-center justify-end space-x-3 p-6 border-t border-gray-100 dark:border-gray-800",r),children:e})}},68821:(e,r,t)=>{"use strict";t.d(r,{Pr:()=>i,V5:()=>n,i9:()=>l,sR:()=>s});var a=t(18069);let s={getFeed:e=>a.hi.get("/video/feed",{params:e}),getVideo:e=>a.hi.get(`/video/${e}`),create:e=>a.hi.post("/video",e),like:e=>a.hi.post(`/video/${e}/like`),unlike:e=>a.hi.delete(`/video/${e}/like`),bookmark:e=>a.hi.post(`/video/${e}/bookmark`),unbookmark:e=>a.hi.delete(`/video/${e}/bookmark`),getComments:(e,r)=>a.hi.get(`/video/${e}/comments`,{params:r}),addComment:(e,r)=>a.hi.post(`/video/${e}/comments`,{content:r}),share:(e,r)=>a.hi.post(`/video/${e}/share`,{platform:r}),report:(e,r)=>a.hi.post(`/video/${e}/report`,{reason:r}),trackView:(e,r)=>a.hi.post(`/video/${e}/view`,{watchDuration:r}),getTrending:e=>a.hi.get("/video/trending",{params:e}),getByCategory:(e,r)=>a.hi.get(`/video/category/${e}`,{params:r}),getUserVideos:(e,r)=>a.hi.get(`/video/user/${e}`,{params:r}),getBookmarked:e=>a.hi.get("/video/bookmarked",{params:e}),delete:e=>a.hi.delete(`/video/${e}`)},i={getMyChannels:()=>a.hi.get("/channels"),getChannel:e=>a.hi.get(`/channels/${e}`),create:e=>a.hi.post("/channels",e),update:(e,r)=>a.hi.patch(`/channels/${e}`,r),delete:e=>a.hi.delete(`/channels/${e}`),getMessages:(e,r)=>a.hi.get(`/channels/${e}/messages`,{params:r}),sendMessage:(e,r)=>a.hi.post(`/channels/${e}/messages`,r),editMessage:(e,r,t)=>a.hi.patch(`/channels/${e}/messages/${r}`,{content:t}),deleteMessage:(e,r)=>a.hi.delete(`/channels/${e}/messages/${r}`),addReaction:(e,r,t)=>a.hi.post(`/channels/${e}/messages/${r}/reactions`,{emoji:t}),removeReaction:(e,r,t)=>a.hi.delete(`/channels/${e}/messages/${r}/reactions/${t}`),getMembers:e=>a.hi.get(`/channels/${e}/members`),addMember:(e,r)=>a.hi.post(`/channels/${e}/members`,{userId:r}),removeMember:(e,r)=>a.hi.delete(`/channels/${e}/members/${r}`),leave:e=>a.hi.post(`/channels/${e}/leave`),markRead:e=>a.hi.post(`/channels/${e}/read`),searchMessages:(e,r)=>a.hi.get(`/channels/${e}/search`,{params:{q:r}}),getPinnedMessages:e=>a.hi.get(`/channels/${e}/pinned`),pinMessage:(e,r)=>a.hi.post(`/channels/${e}/messages/${r}/pin`),unpinMessage:(e,r)=>a.hi.delete(`/channels/${e}/messages/${r}/pin`),getUnreadCounts:()=>a.hi.get("/channels/unread"),startTyping:e=>a.hi.post(`/channels/${e}/typing`),discover:e=>a.hi.get("/channels/discover",{params:e}),join:e=>a.hi.post(`/channels/${e}/join`)},l={getAll:e=>a.hi.get("/apprenticeships",{params:e}),getById:e=>a.hi.get(`/apprenticeships/${e}`),getFeatured:()=>a.hi.get("/apprenticeships/featured"),apply:(e,r)=>a.hi.post(`/apprenticeships/${e}/apply`,r),getMyApplications:e=>a.hi.get("/apprenticeships/applications/me",{params:e}),getApplicationStatus:e=>a.hi.get(`/apprenticeships/applications/${e}`),withdrawApplication:e=>a.hi.delete(`/apprenticeships/applications/${e}`),bookmark:e=>a.hi.post(`/apprenticeships/${e}/bookmark`),unbookmark:e=>a.hi.delete(`/apprenticeships/${e}/bookmark`),getBookmarked:()=>a.hi.get("/apprenticeships/bookmarked"),getRecommended:()=>a.hi.get("/apprenticeships/recommended"),getCategories:()=>a.hi.get("/apprenticeships/categories"),getProgress:e=>a.hi.get(`/apprenticeships/${e}/progress`),submitMilestone:(e,r,t)=>a.hi.post(`/apprenticeships/${e}/milestones/${r}/submit`,t),getCertificate:e=>a.hi.get(`/apprenticeships/${e}/certificate`)},n={getServices:e=>a.hi.get("/skills-marketplace/services",{params:e}),getService:e=>a.hi.get(`/skills-marketplace/services/${e}`),createService:e=>a.hi.post("/skills-marketplace/services",e),updateService:(e,r)=>a.hi.patch(`/skills-marketplace/services/${e}`,r),deleteService:e=>a.hi.delete(`/skills-marketplace/services/${e}`),getMyServices:()=>a.hi.get("/skills-marketplace/services/me"),getSellerProfile:e=>a.hi.get(`/skills-marketplace/sellers/${e}`),getCategories:()=>a.hi.get("/skills-marketplace/categories"),placeOrder:(e,r)=>a.hi.post(`/skills-marketplace/services/${e}/order`,r),getMyOrders:e=>a.hi.get("/skills-marketplace/orders/me",{params:e}),getReceivedOrders:e=>a.hi.get("/skills-marketplace/orders/received",{params:e}),getOrder:e=>a.hi.get(`/skills-marketplace/orders/${e}`),acceptOrder:e=>a.hi.post(`/skills-marketplace/orders/${e}/accept`),deliverOrder:(e,r)=>a.hi.post(`/skills-marketplace/orders/${e}/deliver`,r),requestRevision:(e,r)=>a.hi.post(`/skills-marketplace/orders/${e}/revision`,{reason:r}),completeOrder:e=>a.hi.post(`/skills-marketplace/orders/${e}/complete`),cancelOrder:(e,r)=>a.hi.post(`/skills-marketplace/orders/${e}/cancel`,{reason:r}),leaveReview:(e,r)=>a.hi.post(`/skills-marketplace/orders/${e}/review`,r),getServiceReviews:(e,r)=>a.hi.get(`/skills-marketplace/services/${e}/reviews`,{params:r}),favoriteService:e=>a.hi.post(`/skills-marketplace/services/${e}/favorite`),unfavoriteService:e=>a.hi.delete(`/skills-marketplace/services/${e}/favorite`),getFavorites:()=>a.hi.get("/skills-marketplace/favorites"),sendCustomRequest:e=>a.hi.post("/skills-marketplace/requests",e),getCustomRequests:e=>a.hi.get("/skills-marketplace/requests",{params:e}),submitProposal:(e,r)=>a.hi.post(`/skills-marketplace/requests/${e}/proposal`,r)}},2889:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\mutir\OneDrive\Desktop\mari\athena-platform\client\src\app\community\page.tsx#default`)},79360:(e,r,t)=>{"use strict";t.d(r,{j:()=>l});var a=t(41135);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=a.W,l=(e,r)=>t=>{var a;if((null==r?void 0:r.variants)==null)return i(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:l,defaultVariants:n}=r,c=Object.keys(l).map(e=>{let r=null==t?void 0:t[e],a=null==n?void 0:n[e];if(null===r)return null;let i=s(r)||s(a);return l[e][i]}),o=t&&Object.entries(t).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return i(e,c,null==r?void 0:null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce((e,r)=>{let{class:t,className:a,...s}=r;return Object.entries(s).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...n,...o}[r]):({...n,...o})[r]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[2145,9835],()=>t(28403));module.exports=a})();