exports.id=1045,exports.ids=[1045],exports.modules={30746:(e,r,a)=>{Promise.resolve().then(a.bind(a,14940))},71709:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});let s=(0,a(76557).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},18019:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});let s=(0,a(76557).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},75290:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});let s=(0,a(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},56418:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});let s=(0,a(76557).Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},60763:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});let s=(0,a(76557).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},14940:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>j});var s=a(10326);a(17577);var t=a(90422),l=a(43686),d=a(90434),i=a(35047),n=a(32027),c=a(24055);function o(){let{data:e,isLoading:r}=(0,t.Z5)(),{conversations:a,setConversations:o,activeConversationId:x}=(0,n.a)(),m=(0,i.usePathname)();return r&&0===a.length?s.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(c.Od,{className:"w-10 h-10 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[s.jsx(c.Od,{className:"h-3 w-2/3"}),s.jsx(c.Od,{className:"h-3 w-1/2"})]})]},e))}):0===a.length?s.jsx("div",{className:"p-4 text-gray-500",children:"No conversations yet."}):(0,s.jsxs)("div",{className:"flex flex-col h-full border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 w-full max-w-xs overflow-y-auto",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Messages"})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:a.map(e=>{let r=m===`/dashboard/messages/${e.id}`||x===e.id,a=e.participants[0]||{name:"Unknown",avatar:void 0},t=a.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return s.jsx(d.default,{href:`/dashboard/messages/${e.id}`,className:`block p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors ${r?"bg-blue-50 border-l-4 border-l-blue-600":""}`,children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:a.avatar?s.jsx("img",{src:a.avatar,alt:a.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-bold",children:t})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-baseline",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),e.lastMessage&&s.jsx("span",{className:"text-xs text-gray-400",children:(0,l.Q)(new Date(e.lastMessage.createdAt),{addSuffix:!1})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[s.jsx("p",{className:`text-sm truncate ${e.unreadCount>0?"font-semibold text-gray-900":"text-gray-500"}`,children:e.lastMessage?e.lastMessage.content:"Started a conversation"}),e.unreadCount>0&&s.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:e.unreadCount})]})]})]})},e.id)})})]})}var x=a(18019),m=a(60763),u=a(79635),g=a(56418),h=a(71709),f=a(3594),v=a(38443),y=a(91664),b=a(51223);function p(){let{activeConversationId:e,conversations:r}=(0,n.a)(),a=r.find(r=>r.id===e),t=a?.participants?.[0];return a&&t?(0,s.jsxs)("div",{className:"h-full flex flex-col border-l border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900",children:[(0,s.jsxs)("div",{className:"p-5 border-b border-gray-200 dark:border-gray-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(f.qE,{src:t.avatar,fallback:t.name?.slice(0,2).toUpperCase()||"U",className:"w-12 h-12"}),(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",children:t.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Active now"})]})]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,s.jsxs)(v.C,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",children:[s.jsx(m.Z,{className:"w-3 h-3 mr-1"})," Safety Verified"]}),(0,s.jsxs)(v.C,{className:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[s.jsx(u.Z,{className:"w-3 h-3 mr-1"})," Community Member"]})]})]}),(0,s.jsxs)("div",{className:"p-5 space-y-6 overflow-y-auto",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-400 dark:text-gray-500",children:"Actions"}),(0,s.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,s.jsxs)(d.default,{href:`/dashboard/profile/${t.id}`,className:(0,b.cn)((0,y.d)({variant:"outline"}),"w-full justify-start"),children:[s.jsx(u.Z,{className:"w-4 h-4 mr-2"})," View Profile"]}),(0,s.jsxs)(y.z,{variant:"outline",className:"w-full justify-start",children:[s.jsx(g.Z,{className:"w-4 h-4 mr-2"})," Share Files"]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-400 dark:text-gray-500",children:"Shared Media"}),s.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(e=>s.jsx("div",{className:"aspect-square rounded-lg border border-dashed border-gray-200 dark:border-gray-700 flex items-center justify-center text-gray-400",children:s.jsx(h.Z,{className:"w-4 h-4"})},e))})]})]})]}):(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 p-6",children:[s.jsx(x.Z,{className:"w-8 h-8 mb-2"}),s.jsx("p",{className:"text-sm",children:"Select a conversation to see details."})]})}function j({children:e}){return(0,s.jsxs)("div",{className:"flex h-[calc(100vh-64px)] overflow-hidden",children:[s.jsx("div",{className:"w-80 flex-shrink-0 h-full border-r border-gray-200 dark:border-gray-800",children:s.jsx(o,{})}),s.jsx("div",{className:"flex-1 h-full relative",children:e}),s.jsx("div",{className:"hidden xl:block w-80 flex-shrink-0 h-full",children:s.jsx(p,{})})]})}},3594:(e,r,a)=>{"use strict";a.d(r,{qE:()=>n});var s=a(10326),t=a(17577),l=a(51223);let d={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},i={xs:"w-1.5 h-1.5 border",sm:"w-2 h-2 border",md:"w-2.5 h-2.5 border-2",lg:"w-3 h-3 border-2",xl:"w-4 h-4 border-2"},n=t.forwardRef(({src:e,alt:r="Avatar",fallback:a="?",size:t="md",className:n,online:c,children:o,...x},m)=>o?(0,s.jsxs)("div",{ref:m,className:(0,l.cn)("relative flex shrink-0 overflow-hidden rounded-full",d[t],n),...x,children:[o,void 0!==c&&s.jsx("span",{className:(0,l.cn)("absolute bottom-0 right-0 rounded-full border-white dark:border-gray-900",c?"bg-green-500":"bg-gray-400",i[t])})]}):(0,s.jsxs)("div",{ref:m,className:(0,l.cn)("relative inline-block",n),...x,children:[e?s.jsx("img",{src:e,alt:r,className:(0,l.cn)("rounded-full object-cover",d[t])}):s.jsx("div",{className:(0,l.cn)("rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-600 font-semibold",d[t]),children:a}),void 0!==c&&s.jsx("span",{className:(0,l.cn)("absolute bottom-0 right-0 rounded-full border-white dark:border-gray-900",c?"bg-green-500":"bg-gray-400",i[t])})]}));n.displayName="Avatar",t.forwardRef(({className:e,src:r,alt:a,onLoadingStatusChange:d,...i},n)=>{let[c,o]=t.useState("loading");return(t.useEffect(()=>{if(!r){o("error");return}o("loading")},[r]),"error"!==c&&r)?s.jsx("img",{ref:n,src:r,alt:a,onLoad:()=>{o("loaded"),d?.("loaded")},onError:()=>{o("error"),d?.("error")},className:(0,l.cn)("aspect-square h-full w-full object-cover",e),...i}):null}).displayName="AvatarImage",t.forwardRef(({className:e,children:r,delayMs:a,...d},i)=>{let[n,c]=t.useState(void 0===a);return(t.useEffect(()=>{if(void 0!==a){let e=setTimeout(()=>c(!0),a);return()=>clearTimeout(e)}},[a]),n)?s.jsx("span",{ref:i,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 font-medium",e),...d,children:r}):null}).displayName="AvatarFallback"},38443:(e,r,a)=>{"use strict";a.d(r,{C:()=>i});var s=a(10326);a(17577);var t=a(79360),l=a(51223);let d=(0,t.j)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200",secondary:"bg-secondary-100 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",destructive:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",outline:"border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...a}){return s.jsx("span",{className:(0,l.cn)(d({variant:r}),e),...a})}},91664:(e,r,a)=>{"use strict";a.d(r,{d:()=>i,z:()=>n});var s=a(10326),t=a(17577),l=a(79360),d=a(51223);let i=(0,l.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",secondary:"bg-secondary-500 text-white hover:bg-secondary-600",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-950",ghost:"hover:bg-gray-100 dark:hover:bg-gray-800",link:"text-primary-500 underline-offset-4 hover:underline",destructive:"bg-red-500 text-white hover:bg-red-600"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=t.forwardRef(({className:e,variant:r,size:a,...t},l)=>s.jsx("button",{className:(0,d.cn)(i({variant:r,size:a,className:e})),ref:l,...t}));n.displayName="Button"},24055:(e,r,a)=>{"use strict";a.d(r,{$j:()=>d,Od:()=>n,Q3:()=>o,gb:()=>i,q4:()=>c});var s=a(10326),t=a(75290),l=a(51223);function d({size:e="md",className:r}){return s.jsx(t.Z,{className:(0,l.cn)("animate-spin text-primary-500",{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-10 h-10"}[e],r)})}function i({message:e="Loading...",fullScreen:r=!1}){let a=(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx(d,{size:"lg"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e})]});return r?s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white/80 dark:bg-gray-950/80 backdrop-blur-sm z-50",children:a}):s.jsx("div",{className:"flex items-center justify-center py-12",children:a})}function n({className:e}){return s.jsx("div",{className:(0,l.cn)("animate-pulse rounded bg-gray-200 dark:bg-gray-700",e)})}function c(){return s.jsx("div",{className:"rounded-xl bg-white dark:bg-gray-900 p-6 shadow-sm border border-gray-100 dark:border-gray-800",children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[s.jsx(n,{className:"w-12 h-12 rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[s.jsx(n,{className:"h-4 w-3/4"}),s.jsx(n,{className:"h-3 w-1/2"}),s.jsx(n,{className:"h-3 w-2/3"})]})]})})}function o(){return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(n,{className:"h-48 w-full rounded-xl"}),(0,s.jsxs)("div",{className:"flex items-end -mt-16 px-6",children:[s.jsx(n,{className:"w-24 h-24 rounded-full border-4 border-white dark:border-gray-900"}),(0,s.jsxs)("div",{className:"ml-4 pb-2 space-y-2",children:[s.jsx(n,{className:"h-6 w-40"}),s.jsx(n,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"px-6 space-y-4",children:[s.jsx(n,{className:"h-4 w-full"}),s.jsx(n,{className:"h-4 w-5/6"}),s.jsx(n,{className:"h-4 w-4/6"})]})]})}},32027:(e,r,a)=>{"use strict";a.d(r,{a:()=>s});let s=(0,a(60114).Ue)((e,r)=>({activeConversationId:null,conversations:[],messages:{},isLoadingConversations:!1,isLoadingMessages:!1,totalUnread:0,setActiveConversation:r=>e({activeConversationId:r}),setConversations:r=>e({conversations:r,totalUnread:r.reduce((e,r)=>e+r.unreadCount,0)}),addMessage:(r,a)=>{e(e=>{let s=e.messages[r]||[];if(s.some(e=>e.id===a.id))return e;let t=e.conversations.findIndex(e=>e.id===r),l=[...e.conversations];if(t>-1){let s=l[t];l[t]={...s,lastMessage:a,updatedAt:a.createdAt,unreadCount:e.activeConversationId===r?0:s.unreadCount+1},l.sort((e,r)=>new Date(r.updatedAt).getTime()-new Date(e.updatedAt).getTime())}return{messages:{...e.messages,[r]:[...s,a]},conversations:l,totalUnread:e.activeConversationId===r?e.totalUnread:e.totalUnread+1}})},setMessages:(r,a)=>{e(e=>({messages:{...e.messages,[r]:a}}))},updateMessageStatus:(r,a,s)=>{e(e=>{let t=e.messages[r];if(!t)return e;let l=t.map(e=>e.id===a?{...e,status:s}:e);return{messages:{...e.messages,[r]:l}}})},markConversationAsRead:r=>{e(e=>{let a=e.conversations.findIndex(e=>e.id===r);if(-1===a)return e;let s=e.conversations[a].unreadCount,t=[...e.conversations];return t[a]={...t[a],unreadCount:0},{conversations:t,totalUnread:Math.max(0,e.totalUnread-s)}})},setTyping:(r,a)=>{e(e=>{let s=e.conversations.findIndex(e=>e.id===r);if(-1===s)return e;let t=[...e.conversations];return t[s]={...t[s],isTyping:a},{conversations:t}})},getUnreadCount:()=>r().totalUnread}))},4558:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\mutir\OneDrive\Desktop\mari\athena-platform\client\src\app\dashboard\messages\layout.tsx#default`)},79360:(e,r,a)=>{"use strict";a.d(r,{j:()=>d});var s=a(41135);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.W,d=(e,r)=>a=>{var s;if((null==r?void 0:r.variants)==null)return l(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:d,defaultVariants:i}=r,n=Object.keys(d).map(e=>{let r=null==a?void 0:a[e],s=null==i?void 0:i[e];if(null===r)return null;let l=t(r)||t(s);return d[e][l]}),c=a&&Object.entries(a).reduce((e,r)=>{let[a,s]=r;return void 0===s||(e[a]=s),e},{});return l(e,n,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:a,className:s,...t}=r;return Object.entries(t).every(e=>{let[r,a]=e;return Array.isArray(a)?a.includes({...i,...c}[r]):({...i,...c})[r]===a})?[...e,a,s]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}}};